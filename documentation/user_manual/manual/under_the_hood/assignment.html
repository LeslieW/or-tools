

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>13.7. Variables and Assignments &mdash; or-tools User&#39;s Manual</title>
    
    <link rel="stylesheet" href="../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     'doc version 0.0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../_static/logo.ico"/>
    <link rel="top" title="or-tools User&#39;s Manual" href="../../index.html" />
    <link rel="up" title="13. Under the hood" href="../under_the_hood.html" />
    <link rel="next" title="13.8. SearchMonitors" href="search_monitors.html" />
    <link rel="prev" title="13.6. The Queue class" href="queue.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="search_monitors.html" title="13.8. SearchMonitors"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="queue.html" title="13.6. The Queue class"
             accesskey="P">previous</a> |</li>
        <li><a href="../../index.html">or-tools User&#39;s Manual</a> &raquo;</li>
          <li><a href="../under_the_hood.html" accesskey="U">13. Under the hood</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="variables-and-assignments">
<span id="hood-assignment"></span><h1>13.7. Variables and <tt class="docutils literal"><span class="pre">Assignment</span></tt>s</h1>
<p>TO BE WRITTEN.</p>
<div class="section" id="variables">
<h2>13.7.1. Variables</h2>
<p>There are <strong>four</strong> (3 + 1) types of variables:</p>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">IntVar</span></tt>:</p>
</li>
<li><dl class="first docutils">
<dt><tt class="docutils literal"><span class="pre">IntervalVar</span></tt>: Inherits <tt class="docutils literal"><span class="pre">PropagationBaseObject</span></tt>.</dt>
<dd><p class="first last">An interval var is often used in scheduling. Its main
characteristics are its start position, its duration and its end
date. All these characteristics can be queried, set and demons can
be posted on their modifications.  An important aspect is
optionality. An interval var can be performed or not. If
unperformed, then it simply does not exist. Its characteristics
cannot be accessed anymore. An interval var is automatically marked
as unperformed when it is not consistent anymore (start greater
than end, duration &lt; 0...)</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><tt class="docutils literal"><span class="pre">SequenceVar</span></tt>: Inherits <tt class="docutils literal"><span class="pre">PropagationBaseObject</span></tt>.</dt>
<dd><p class="first last">A sequence variable is a variable which domain is a set of possible
orderings of the interval variables. It allows ordering tasks.  It
has two sets of methods: ComputePossibleFirstsAndLasts() which
returns the list of interval variables thant can be ranked first or
lasts, and RankFirst/RankNotFirst/RankLast/RankNotLast which can be
used to create the search decision.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><tt class="docutils literal"><span class="pre">OptimizeVar</span></tt>: Inherits from <tt class="docutils literal"><span class="pre">SearchMonitor</span></tt>.</dt>
<dd><p class="first last">This class encapsulate an objective. It requires the direction
(minimize or maximize), the variable to optimize and the
improvement step.</p>
</dd>
</dl>
</li>
</ul>
<div class="topic">
<p class="topic-title first">What is <tt class="docutils literal"><span class="pre">SetVar</span></tt>?</p>
<p>You might have seen a <tt class="docutils literal"><span class="pre">SetVar</span></tt> that inherits from <tt class="docutils literal"><span class="pre">PropagationBaseObject</span></tt>. The purpose of this &#8220;variable&#8221;
is to ...</p>
</div>
<div class="section" id="intexpr">
<h3>13.7.1.1. <tt class="docutils literal"><span class="pre">IntExpr</span></tt></h3>
<p>The class IntExpr is the base of all integer expressions in
constraint programming.</p>
<p>It contains the basic protocol for an expression:</p>
<ul class="simple">
<li>setting and modifying its bound</li>
<li>querying if it is bound</li>
<li>listening to events modifying its bounds</li>
<li>casting it into a variable (instance of IntVar)</li>
</ul>
<p>class IntExpr : public PropagationBaseObject</p>
</div>
</div>
<div class="section" id="assignments">
<h2>13.7.2. <tt class="docutils literal"><span class="pre">Assignment</span></tt>s</h2>
<p>The <tt class="docutils literal"><span class="pre">Assignment</span></tt> class is declared in the header <tt class="file docutils literal"><span class="pre">constraint_solver/constraint_solver.h</span></tt>
and additional definitions can be found in the file <tt class="file docutils literal"><span class="pre">constraint_solver/assignment.cc</span></tt>.</p>
<p id="index-0">An <tt class="docutils literal"><span class="pre">Assignment</span></tt> is basically a mapping between some variables and their domains. It is used
to report solutions to the user and let the user store solutions (and eventually pass them back to the solver).</p>
<p>For efficiency, an <tt class="docutils literal"><span class="pre">Assignment</span></tt> contains simplified versions of the
variables:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">IntVar</span></tt>s are replaced by <tt class="docutils literal"><span class="pre">IntVarElement</span></tt>s;</li>
<li><tt class="docutils literal"><span class="pre">IntervalVar</span></tt>s are replaced by <tt class="docutils literal"><span class="pre">IntervalVarElement</span></tt>s;</li>
<li><tt class="docutils literal"><span class="pre">SequenceVar</span></tt>s are replaced by <tt class="docutils literal"><span class="pre">SequenceVarElement</span></tt>s and</li>
<li><tt class="docutils literal"><span class="pre">OptimizeVar</span></tt> is replaced by an <tt class="docutils literal"><span class="pre">IntVarElement</span></tt>.</li>
</ul>
<div class="section" id="store-versus-restore">
<h3>13.7.2.1. <tt class="docutils literal"><span class="pre">Store()</span></tt> versus <tt class="docutils literal"><span class="pre">Restore()</span></tt></h3>
<p>To bridge the gap between the real variables and the simplified versions used in the <tt class="docutils literal"><span class="pre">Assignment</span></tt> class, use
the <tt class="docutils literal"><span class="pre">Store()</span></tt> and <tt class="docutils literal"><span class="pre">Restore()</span></tt> methods:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">Store()</span></tt> takes the values stored in the <tt class="docutils literal"><span class="pre">xxxElement</span></tt>s and transfer them (if the variables are <em>activated</em>)
to the real variables;</li>
<li><tt class="docutils literal"><span class="pre">ReStore()</span></tt> does the opposite and put the values hold in the real variables in the simplified variables.</li>
</ul>
<p>Explain:</p>
<ul class="simple">
<li>Store &lt;-&gt; Restore mechanism.</li>
<li>Activated or not</li>
<li>Load, Save -&gt; in utilities, Serializing.</li>
<li></li>
</ul>
<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<table>
<tr>
<td width="60"><img src="../../_static/logo.png" width="50" height="50"  alt="" /></td>
<td><p class="library_name">Google <a href="http://code.google.com/p/or-tools/"><strong>or-tools</strong></a><br>open source library</p></td>
</tr>
</table>
<h1>User's Manual</h1>

  
   



<h3>Google search</h3>

<form method="get" action="http://www.google.com/search">

<div style="padding:-1px;width:15em;">
<table border="0" cellpadding="0">
<tr><td>
<input type="text"   name="q" size="25"
 maxlength="255" value="" />
<input type="submit" value="Go" /></td></tr>
<tr><td align="center" style="font-size:80%">
Search:
<select name="sitesearch" width="125" style="width: 125px">
<option value="http://or-tools.googlecode.com/svn/trunk/documentation/user_manual/" selected>user's manual</option>
<option value="http://or-tools.googlecode.com/svn/trunk/documentation/faq/">faq</option>
<option value="http://or-tools.googlecode.com/svn/trunk/documentation/reference_manual/or-tools/">reference manual</option>
<option value="http://or-tools.googlecode.com/svn/trunk/documentation/">All or-tools doc</option>
</select>
</td></tr>
</table>
</div>

</form>
</br>




  <h3>Welcome</h3>
  
  <ul>
  	<li><a href="../../index.html">Content and foreword</a></li>
  	<li><a href="http://or-tools.googlecode.com/svn/trunk/documentation/documentation_hub.html">Documentation's hub</a></li>
	<li><a href="http://code.google.com/p/or-tools/">The or-tools open source library</a></li></li>	
  </ul>
  
   
	


  <h3>Tutorial examples</h3>
  
  <ul>
	<li><a href="http://or-tools.googlecode.com/svn/trunk/documentation/documentation_hub.html#tutorial_C++">C++</a></li>
	<li><a href="http://or-tools.googlecode.com/svn/trunk/documentation/documentation_hub.html#tutorial_Python">Python</a></li>	
	<li><a href="http://or-tools.googlecode.com/svn/trunk/documentation/documentation_hub.html#tutorial_Java">Java</a></li>
	<li><a href="http://or-tools.googlecode.com/svn/trunk/documentation/documentation_hub.html#tutorial_Csharp">C#</a></li>
</ul>
  
   
	

  <h3>Current chapter</h3>
  <p class="topless"><a href="../under_the_hood.html"
                        title="previous chapter">13. Under the hood</a></p>
  <h3>Previous section</h3>
  <p class="topless"><a href="queue.html"
                        title="previous chapter">13.6. The <tt class="docutils literal"><span class="pre">Queue</span></tt> class</a></p>
  <h3>Next section</h3>
  <p class="topless"><a href="search_monitors.html"
                        title="next chapter">13.8. <tt class="docutils literal"><span class="pre">SearchMonitor</span></tt>s</a></p>
  <h3>Current section</a></h3>
  <ul>
<li><a class="reference internal" href="#">13.7. Variables and <tt class="docutils literal"><span class="pre">Assignment</span></tt>s</a><ul>
<li><a class="reference internal" href="#variables">13.7.1. Variables</a><ul>
<li><a class="reference internal" href="#intexpr">13.7.1.1. <tt class="docutils literal"><span class="pre">IntExpr</span></tt></a></li>
</ul>
</li>
<li><a class="reference internal" href="#assignments">13.7.2. <tt class="docutils literal"><span class="pre">Assignment</span></tt>s</a><ul>
<li><a class="reference internal" href="#store-versus-restore">13.7.2.1. <tt class="docutils literal"><span class="pre">Store()</span></tt> versus <tt class="docutils literal"><span class="pre">Restore()</span></tt></a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="search_monitors.html" title="13.8. SearchMonitors"
             >next</a> |</li>
        <li class="right" >
          <a href="queue.html" title="13.6. The Queue class"
             >previous</a> |</li>
        <li><a href="../../index.html">or-tools User&#39;s Manual</a> &raquo;</li>
          <li><a href="../under_the_hood.html" >13. Under the hood</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012-2014, Google.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>