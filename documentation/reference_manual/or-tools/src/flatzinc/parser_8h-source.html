<!-- Good morning, Mr. Phelps. -->
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <title>or-tools/src/flatzinc/parser.h Source File - Doxy</title>
    <link rel="shortcut icon" href="../../../favicon.ico">
    <!-- Both stylesheets are supplied by Doxygen, with maybe minor tweaks from Google. -->
    <link href="../../../doxygen.css" rel="stylesheet" type="text/css">
    <link href="../../../tabs.css" rel="stylesheet" type="text/css">
  </head>

  <body topmargin=0 leftmargin=20 bottommargin=0 rightmargin=20 marginwidth=20 marginheight=0>
  <!-- Second part of the secret behind Doxy logo always having the word "Doxy" with the color of the day. -->
  <style>
    a.doxy_logo:hover {
      background-color: #359621
    }
  </style>

  <table width=100% cellpadding=0 cellspacing=0 border=0>
    <!-- Top horizontal line with the color of the day. -->
    <tr valign=top>
      <td colspan=3 bgcolor=#359621 height=3></td>
    </tr>

    <!-- Header row with the links at the right. -->
    <tr valign=top>
      <td colspan=3 align=right>
        <font size=-1>
          Generated on: <font color=#359621><b>Fri Aug 10 00:46:07 CEST 2012</b></font>
            for Revision:2055
        </font>
      </td>
    </tr>

    <!-- Header row with the logo and the search form. -->
    <tr valign=top>
      <!-- Logo. -->
      <td align=left width=150>
        <table width=150 height=54 cellpadding=0 cellspacing=0 border=0>
          <tr valign=top>
            <!-- First part of the secret behind Doxy logo always having the word "Doxy" with the color of the day. -->
            <td bgcolor=#359621>
              <a class="doxy_logo" href="../../../index.html"><img src="../../../doxy_logo.png" alt="Doxy" border=0></a>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <!-- Tiny vertical space below the form. -->
    <tr valign=top>
      <td colspan=3 height=3></td>
    </tr>
  </table>

  <!-- Header navigation row. -->
  <div class="memproto">
    <table width=100% cellpadding=0 cellspacing=0 border=0>
      <tr>
        <td align=left style="padding-left: 20px"><font size=+1><b><tt><font color=#333333>//
            <a href="../../../index.html"><font color=#359621>doxy</font></a>/</font>
            <a href="../../../or-tools/index.html">or-tools</a>/
            <a href="../../../or-tools/src/index.html">src</a>/
            <a href="../../../or-tools/src/flatzinc/index.html">flatzinc</a>/
            </tt></b></font>
        </td>
      </tr>
    </table>
  </div>
  <br />
    <!-- No subdirs found. -->
  <!-- End of header. -->
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
<h1>or-tools/src/flatzinc/parser.h</h1><a href="parser_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/* -*- mode: C++; c-basic-offset: 2; indent-tabs-mode: nil -*- */</span>
<a name="l00002"></a>00002 <span class="comment">/*</span>
<a name="l00003"></a>00003 <span class="comment"> *  Main authors:</span>
<a name="l00004"></a>00004 <span class="comment"> *     Guido Tack &lt;tack@gecode.org&gt;</span>
<a name="l00005"></a>00005 <span class="comment"> *  Modified:</span>
<a name="l00006"></a>00006 <span class="comment"> *     Laurent Perron &lt;lperron@google.com&gt;</span>
<a name="l00007"></a>00007 <span class="comment"> *</span>
<a name="l00008"></a>00008 <span class="comment"> *  Copyright:</span>
<a name="l00009"></a>00009 <span class="comment"> *     Guido Tack, 2007</span>
<a name="l00010"></a>00010 <span class="comment"> *</span>
<a name="l00011"></a>00011 <span class="comment"> *  Last modified:</span>
<a name="l00012"></a>00012 <span class="comment"> *     $Date: 2011-01-18 20:06:16 +1100 (Tue, 18 Jan 2011) $ by $Author: tack $</span>
<a name="l00013"></a>00013 <span class="comment"> *     $Revision: 11538 $</span>
<a name="l00014"></a>00014 <span class="comment"> *</span>
<a name="l00015"></a>00015 <span class="comment"> *  This file is part of Gecode, the generic constraint</span>
<a name="l00016"></a>00016 <span class="comment"> *  development environment:</span>
<a name="l00017"></a>00017 <span class="comment"> *     http://www.gecode.org</span>
<a name="l00018"></a>00018 <span class="comment"> *</span>
<a name="l00019"></a>00019 <span class="comment"> *  Permission is hereby granted, free of charge, to any person obtaining</span>
<a name="l00020"></a>00020 <span class="comment"> *  a copy of this software and associated documentation files (the</span>
<a name="l00021"></a>00021 <span class="comment"> *  "Software"), to deal in the Software without restriction, including</span>
<a name="l00022"></a>00022 <span class="comment"> *  without limitation the rights to use, copy, modify, merge, publish,</span>
<a name="l00023"></a>00023 <span class="comment"> *  distribute, sublicense, and/or sell copies of the Software, and to</span>
<a name="l00024"></a>00024 <span class="comment"> *  permit persons to whom the Software is furnished to do so, subject to</span>
<a name="l00025"></a>00025 <span class="comment"> *  the following conditions:</span>
<a name="l00026"></a>00026 <span class="comment"> *</span>
<a name="l00027"></a>00027 <span class="comment"> *  The above copyright notice and this permission notice shall be</span>
<a name="l00028"></a>00028 <span class="comment"> *  included in all copies or substantial portions of the Software.</span>
<a name="l00029"></a>00029 <span class="comment"> *</span>
<a name="l00030"></a>00030 <span class="comment"> *  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,</span>
<a name="l00031"></a>00031 <span class="comment"> *  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF</span>
<a name="l00032"></a>00032 <span class="comment"> *  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND</span>
<a name="l00033"></a>00033 <span class="comment"> *  NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE</span>
<a name="l00034"></a>00034 <span class="comment"> *  LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION</span>
<a name="l00035"></a>00035 <span class="comment"> *  OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION</span>
<a name="l00036"></a>00036 <span class="comment"> *  WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</span>
<a name="l00037"></a>00037 <span class="comment"> *</span>
<a name="l00038"></a>00038 <span class="comment"> */</span>
<a name="l00039"></a>00039 
<a name="l00040"></a>00040 <span class="preprocessor">#ifndef __FLATZINC_PARSER_H_</span>
<a name="l00041"></a>00041 <span class="preprocessor"></span><span class="preprocessor">#define __FLATZINC_PARSER_H_</span>
<a name="l00042"></a>00042 <span class="preprocessor"></span>
<a name="l00043"></a>00043 
<a name="l00044"></a>00044 <span class="comment">// This is a workaround for a bug in flex that only shows up</span>
<a name="l00045"></a>00045 <span class="comment">// with the Microsoft C++ compiler</span>
<a name="l00046"></a>00046 <span class="preprocessor">#if defined(_MSC_VER)</span>
<a name="l00047"></a>00047 <span class="preprocessor"></span><span class="preprocessor">#define YY_NO_UNISTD_H</span>
<a name="l00048"></a>00048 <span class="preprocessor"></span><span class="preprocessor">#ifdef __cplusplus</span>
<a name="l00049"></a>00049 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="stringliteral">"C"</span> <span class="keywordtype">int</span> isatty(<span class="keywordtype">int</span>);
<a name="l00050"></a>00050 <span class="preprocessor">#endif</span>
<a name="l00051"></a>00051 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00052"></a>00052 <span class="preprocessor"></span>
<a name="l00053"></a>00053 <span class="comment">// The Microsoft C++ compiler marks certain functions as deprecated,</span>
<a name="l00054"></a>00054 <span class="comment">// so let's take the alternative definitions</span>
<a name="l00055"></a>00055 <span class="preprocessor">#if defined(_MSC_VER)</span>
<a name="l00056"></a>00056 <span class="preprocessor"></span><span class="preprocessor">#define strdup _strdup</span>
<a name="l00057"></a>00057 <span class="preprocessor"></span><span class="preprocessor">#define fileno _fileno</span>
<a name="l00058"></a>00058 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00059"></a>00059 <span class="preprocessor"></span>
<a name="l00060"></a>00060 <span class="preprocessor">#include &lt;cstring&gt;</span>
<a name="l00061"></a>00061 <span class="preprocessor">#include &lt;string&gt;</span>
<a name="l00062"></a>00062 <span class="preprocessor">#include &lt;vector&gt;</span>
<a name="l00063"></a>00063 <span class="preprocessor">#include &lt;iostream&gt;</span>
<a name="l00064"></a>00064 <span class="preprocessor">#include &lt;algorithm&gt;</span>
<a name="l00065"></a>00065 <span class="preprocessor">#include &lt;map&gt;</span>
<a name="l00066"></a>00066 
<a name="l00067"></a>00067 <span class="preprocessor">#include "base/concise_iterator.h"</span>
<a name="l00068"></a>00068 <span class="preprocessor">#include "base/hash.h"</span>
<a name="l00069"></a>00069 <span class="preprocessor">#include "base/integral_types.h"</span>
<a name="l00070"></a>00070 <span class="preprocessor">#include "base/logging.h"</span>
<a name="l00071"></a>00071 <span class="preprocessor">#include "base/map-util.h"</span>
<a name="l00072"></a>00072 <span class="preprocessor">#include "base/stringprintf.h"</span>
<a name="l00073"></a>00073 
<a name="l00074"></a>00074 <span class="keyword">using</span> std::string;
<a name="l00075"></a>00075 
<a name="l00076"></a>00076 <span class="keyword">namespace </span>operations_research {
<a name="l00077"></a>00077 <span class="comment">// ---------- Abstract syntax tree ----------</span>
<a name="l00078"></a>00078 <span class="keyword">class </span>AstCall;
<a name="l00079"></a>00079 <span class="keyword">class </span>AstArray;
<a name="l00080"></a>00080 <span class="keyword">class </span>AstAtom;
<a name="l00081"></a>00081 <span class="keyword">class </span>AstSetLit;
<a name="l00082"></a>00082 <span class="comment"></span>
<a name="l00083"></a>00083 <span class="comment">/// %Exception signaling type error</span>
<a name="l00084"></a><a class="code" href="classoperations__research_1_1AstTypeError.html">00084</a> <span class="comment"></span><span class="keyword">class </span><a class="code" href="classoperations__research_1_1AstTypeError.html" title="Exception signaling type error">AstTypeError</a> {
<a name="l00085"></a>00085  <span class="keyword">private</span>:
<a name="l00086"></a>00086   std::string _what;
<a name="l00087"></a>00087  <span class="keyword">public</span>:
<a name="l00088"></a><a class="code" href="classoperations__research_1_1AstTypeError.html#eb22c176d3755854d3d6f6d2ccde1b09">00088</a>   <a class="code" href="classoperations__research_1_1AstTypeError.html#eb22c176d3755854d3d6f6d2ccde1b09">AstTypeError</a>() : _what(<span class="stringliteral">""</span>) {}
<a name="l00089"></a><a class="code" href="classoperations__research_1_1AstTypeError.html#d682e31674f70fe1f761f57cf3880609">00089</a>   <a class="code" href="classoperations__research_1_1AstTypeError.html#eb22c176d3755854d3d6f6d2ccde1b09">AstTypeError</a>(std::string <a class="code" href="classoperations__research_1_1AstTypeError.html#a3e170c6993fc0911c31934e412a066b">what</a>) : _what(what) {}
<a name="l00090"></a><a class="code" href="classoperations__research_1_1AstTypeError.html#a3e170c6993fc0911c31934e412a066b">00090</a>   std::string <a class="code" href="classoperations__research_1_1AstTypeError.html#a3e170c6993fc0911c31934e412a066b">what</a>(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> _what; }
<a name="l00091"></a>00091 };
<a name="l00092"></a>00092 <span class="comment"></span>
<a name="l00093"></a>00093 <span class="comment">/**</span>
<a name="l00094"></a>00094 <span class="comment"> * \brief A node in a %FlatZinc abstract syntax tree</span>
<a name="l00095"></a>00095 <span class="comment"> */</span>
<a name="l00096"></a><a class="code" href="classoperations__research_1_1AstNode.html">00096</a> <span class="keyword">class </span><a class="code" href="classoperations__research_1_1AstNode.html" title="A node in a FlatZinc abstract syntax tree.">AstNode</a> {
<a name="l00097"></a>00097  <span class="keyword">public</span>:<span class="comment"></span>
<a name="l00098"></a>00098 <span class="comment">  /// Destructor</span>
<a name="l00099"></a>00099 <span class="comment"></span>  <span class="keyword">virtual</span> <a class="code" href="classoperations__research_1_1AstNode.html#a7eb4679b78048b3ede632977268e4cf" title="Destructor.">~AstNode</a>(<span class="keywordtype">void</span>);
<a name="l00100"></a>00100 <span class="comment"></span>
<a name="l00101"></a>00101 <span class="comment">  /// Append \a n to an array node</span>
<a name="l00102"></a>00102 <span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1AstNode.html#c9c8d2ad291d81f39a4199edbb1ea91d" title="Append n to an array node.">append</a>(<a class="code" href="classoperations__research_1_1AstNode.html" title="A node in a FlatZinc abstract syntax tree.">AstNode</a>* n);
<a name="l00103"></a>00103 <span class="comment"></span>
<a name="l00104"></a>00104 <span class="comment">  /// Test if node has atom with \a id</span>
<a name="l00105"></a>00105 <span class="comment"></span>  <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1AstNode.html#d822048b8a63f4b9b73c7ea542fffe43" title="Test if node has atom with id.">hasAtom</a>(<span class="keyword">const</span> std::string&amp; <span class="keywordtype">id</span>);<span class="comment"></span>
<a name="l00106"></a>00106 <span class="comment">  /// Test if node is int, if yes set \a i to the value</span>
<a name="l00107"></a>00107 <span class="comment"></span>  <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1AstNode.html#835886445da8ca4870ac04e0daf78988" title="Test if node is an integer node.">isInt</a>(<span class="keywordtype">int</span>&amp; i);<span class="comment"></span>
<a name="l00108"></a>00108 <span class="comment">  /// Test if node is function call with \a id</span>
<a name="l00109"></a>00109 <span class="comment"></span>  <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1AstNode.html#6139321bc53e986b38ec7b21cc9f381f" title="Test if node is function call with id.">isCall</a>(<span class="keyword">const</span> std::string&amp; <span class="keywordtype">id</span>);<span class="comment"></span>
<a name="l00110"></a>00110 <span class="comment">  /// Return function call</span>
<a name="l00111"></a>00111 <span class="comment"></span>  <a class="code" href="classoperations__research_1_1AstCall.html" title="Node representing a function call">AstCall</a>* <a class="code" href="classoperations__research_1_1AstNode.html#fb67853691b03450e0e41cf9856ca4df" title="Return function call.">getCall</a>(<span class="keywordtype">void</span>);<span class="comment"></span>
<a name="l00112"></a>00112 <span class="comment">  /// Test if node is function call or array containing function call \a id</span>
<a name="l00113"></a>00113 <span class="comment"></span>  <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1AstNode.html#be1146a0130ab80924676887523a64e4" title="Test if node is function call or array containing function call id.">hasCall</a>(<span class="keyword">const</span> std::string&amp; <span class="keywordtype">id</span>);<span class="comment"></span>
<a name="l00114"></a>00114 <span class="comment">  /// Return function call \a id</span>
<a name="l00115"></a>00115 <span class="comment"></span>  <a class="code" href="classoperations__research_1_1AstCall.html" title="Node representing a function call">AstCall</a>* <a class="code" href="classoperations__research_1_1AstNode.html#fb67853691b03450e0e41cf9856ca4df" title="Return function call.">getCall</a>(<span class="keyword">const</span> std::string&amp; <span class="keywordtype">id</span>);<span class="comment"></span>
<a name="l00116"></a>00116 <span class="comment">  /// Cast this node to an array node</span>
<a name="l00117"></a>00117 <span class="comment"></span>  <a class="code" href="classoperations__research_1_1AstArray.html" title="Array node">AstArray</a>* <a class="code" href="classoperations__research_1_1AstNode.html#de326d9355b68c1d6b8e33a8521313fd" title="Cast this node to an array node.">getArray</a>(<span class="keywordtype">void</span>);<span class="comment"></span>
<a name="l00118"></a>00118 <span class="comment">  /// Cast this node to an Atom node</span>
<a name="l00119"></a>00119 <span class="comment"></span>  <a class="code" href="classoperations__research_1_1AstAtom.html" title="Node representing an atom">AstAtom</a>* <a class="code" href="classoperations__research_1_1AstNode.html#b737ec0c303a44d4f413206c7aff567a" title="Cast this node to an Atom node.">getAtom</a>(<span class="keywordtype">void</span>);<span class="comment"></span>
<a name="l00120"></a>00120 <span class="comment">  /// Cast this node to an integer variable node</span>
<a name="l00121"></a>00121 <span class="comment"></span>  <span class="keywordtype">int</span> <a class="code" href="classoperations__research_1_1AstNode.html#ab61375d4213db96ca10dc84b83fc3fd" title="Cast this node to an integer variable node.">getIntVar</a>(<span class="keywordtype">void</span>);<span class="comment"></span>
<a name="l00122"></a>00122 <span class="comment">  /// Cast this node to a Boolean variable node</span>
<a name="l00123"></a>00123 <span class="comment"></span>  <span class="keywordtype">int</span> <a class="code" href="classoperations__research_1_1AstNode.html#40d89893961b623de6cf8a40950a264d" title="Cast this node to a Boolean variable node.">getBoolVar</a>(<span class="keywordtype">void</span>);<span class="comment"></span>
<a name="l00124"></a>00124 <span class="comment">  /// Cast this node to a set variable node</span>
<a name="l00125"></a>00125 <span class="comment"></span>  <span class="keywordtype">int</span> <a class="code" href="classoperations__research_1_1AstNode.html#e32ba3b7b2dcb0ad1565aa985f9970fb" title="Cast this node to a set variable node.">getSetVar</a>(<span class="keywordtype">void</span>);
<a name="l00126"></a>00126 <span class="comment"></span>
<a name="l00127"></a>00127 <span class="comment">  /// Cast this node to an integer node</span>
<a name="l00128"></a>00128 <span class="comment"></span>  int64 <a class="code" href="classoperations__research_1_1AstNode.html#82f72eb772fa55a97938dac93d99a3e4" title="Cast this node to an integer node.">getInt</a>(<span class="keywordtype">void</span>);<span class="comment"></span>
<a name="l00129"></a>00129 <span class="comment">  /// Cast thos node to an integer node and assign value.</span>
<a name="l00130"></a>00130 <span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1AstNode.html#d2115db2b37b42271e4882b3767e3112" title="Cast thos node to an integer node and assign value.">setInt</a>(int64);<span class="comment"></span>
<a name="l00131"></a>00131 <span class="comment">  /// Cast this node to a Boolean node</span>
<a name="l00132"></a>00132 <span class="comment"></span>  <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1AstNode.html#f0567eb5be0c9a72409d5cdeaa35bc7e" title="Cast this node to a Boolean node.">getBool</a>(<span class="keywordtype">void</span>);<span class="comment"></span>
<a name="l00133"></a>00133 <span class="comment">  /// Cast this node to a Float node</span>
<a name="l00134"></a>00134 <span class="comment"></span>  <span class="keywordtype">double</span> <a class="code" href="classoperations__research_1_1AstNode.html#9b4e9761d0ab184006e59f28836a6cd9" title="Cast this node to a Float node.">getFloat</a>(<span class="keywordtype">void</span>);<span class="comment"></span>
<a name="l00135"></a>00135 <span class="comment">  /// Cast this node to a set literal node</span>
<a name="l00136"></a>00136 <span class="comment"></span>  <a class="code" href="classoperations__research_1_1AstSetLit.html" title="Set literal node">AstSetLit</a> *<a class="code" href="classoperations__research_1_1AstNode.html#a2360fc2e4c5d57156d9e2d0ffe03f31" title="Cast this node to a set literal node.">getSet</a>(<span class="keywordtype">void</span>);
<a name="l00137"></a>00137 <span class="comment"></span>
<a name="l00138"></a>00138 <span class="comment">  /// Cast this node to a string node</span>
<a name="l00139"></a>00139 <span class="comment"></span>  std::string <a class="code" href="classoperations__research_1_1AstNode.html#a23c09e7e7f967e3a3789fe40d660d62" title="Cast this node to a string node.">getString</a>(<span class="keywordtype">void</span>);
<a name="l00140"></a>00140 <span class="comment"></span>
<a name="l00141"></a>00141 <span class="comment">  /// Test if node is an integer variable node</span>
<a name="l00142"></a>00142 <span class="comment"></span>  <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1AstNode.html#f2abd643d90430d6edd3c0c5ab4f4cee" title="Test if node is an integer variable node.">isIntVar</a>(<span class="keywordtype">void</span>);<span class="comment"></span>
<a name="l00143"></a>00143 <span class="comment">  /// Test if node is a Boolean variable node</span>
<a name="l00144"></a>00144 <span class="comment"></span>  <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1AstNode.html#be367494c459b4b2c6d738ac23feed78" title="Test if node is a Boolean variable node.">isBoolVar</a>(<span class="keywordtype">void</span>);<span class="comment"></span>
<a name="l00145"></a>00145 <span class="comment">  /// Test if node is a set variable node</span>
<a name="l00146"></a>00146 <span class="comment"></span>  <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1AstNode.html#b467ce220e3bcc4df45ddcad68518119" title="Test if node is a set variable node.">isSetVar</a>(<span class="keywordtype">void</span>);<span class="comment"></span>
<a name="l00147"></a>00147 <span class="comment">  /// Test if node is an integer node</span>
<a name="l00148"></a>00148 <span class="comment"></span>  <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1AstNode.html#835886445da8ca4870ac04e0daf78988" title="Test if node is an integer node.">isInt</a>(<span class="keywordtype">void</span>);<span class="comment"></span>
<a name="l00149"></a>00149 <span class="comment">  /// Test if node is a Boolean node</span>
<a name="l00150"></a>00150 <span class="comment"></span>  <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1AstNode.html#2d7a39334d92d2c9b78b583e08ad3667" title="Test if node is a Boolean node.">isBool</a>(<span class="keywordtype">void</span>);<span class="comment"></span>
<a name="l00151"></a>00151 <span class="comment">  /// Test if node is a string node</span>
<a name="l00152"></a>00152 <span class="comment"></span>  <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1AstNode.html#0923fc769a4c202c09198602d8ce7fc4" title="Test if node is a string node.">isString</a>(<span class="keywordtype">void</span>);<span class="comment"></span>
<a name="l00153"></a>00153 <span class="comment">  /// Test if node is an array node</span>
<a name="l00154"></a>00154 <span class="comment"></span>  <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1AstNode.html#72542d2c0699a56955a3fad8fdd979b6" title="Test if node is an array node.">isArray</a>(<span class="keywordtype">void</span>);<span class="comment"></span>
<a name="l00155"></a>00155 <span class="comment">  /// Test if node is a set literal node</span>
<a name="l00156"></a>00156 <span class="comment"></span>  <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1AstNode.html#40df48d7c99d395a31cccdb309971eb7" title="Test if node is a set literal node.">isSet</a>(<span class="keywordtype">void</span>);<span class="comment"></span>
<a name="l00157"></a>00157 <span class="comment">  /// Test if node is an atom node</span>
<a name="l00158"></a>00158 <span class="comment"></span>  <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1AstNode.html#8d09596428234b33208f69c080c2abba" title="Test if node is an atom node.">isAtom</a>(<span class="keywordtype">void</span>);
<a name="l00159"></a>00159 <span class="comment"></span>
<a name="l00160"></a>00160 <span class="comment">  /// Output string representation</span>
<a name="l00161"></a>00161 <span class="comment"></span>  <span class="keyword">virtual</span> <span class="keywordtype">string</span> <a class="code" href="classoperations__research_1_1AstNode.html#6e981e3dac0a576beecf101e5d89a806" title="Output string representation.">DebugString</a>() <span class="keyword">const</span> = 0;
<a name="l00162"></a>00162 };
<a name="l00163"></a>00163 <span class="comment"></span>
<a name="l00164"></a>00164 <span class="comment">/// Boolean literal node</span>
<a name="l00165"></a><a class="code" href="classoperations__research_1_1AstBoolLit.html">00165</a> <span class="comment"></span><span class="keyword">class </span><a class="code" href="classoperations__research_1_1AstBoolLit.html" title="Boolean literal node.">AstBoolLit</a> : <span class="keyword">public</span> <a class="code" href="classoperations__research_1_1AstNode.html" title="A node in a FlatZinc abstract syntax tree.">AstNode</a> {
<a name="l00166"></a>00166  <span class="keyword">public</span>:
<a name="l00167"></a><a class="code" href="classoperations__research_1_1AstBoolLit.html#f728cc3fad042927c46ea10c57e9b52c">00167</a>   <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1AstBoolLit.html#f728cc3fad042927c46ea10c57e9b52c">b</a>;
<a name="l00168"></a><a class="code" href="classoperations__research_1_1AstBoolLit.html#bd82d69951ac654fee7c14be5165a645">00168</a>   <a class="code" href="classoperations__research_1_1AstBoolLit.html#bd82d69951ac654fee7c14be5165a645">AstBoolLit</a>(<span class="keywordtype">bool</span> b0) : <a class="code" href="classoperations__research_1_1AstBoolLit.html#f728cc3fad042927c46ea10c57e9b52c">b</a>(b0) {}
<a name="l00169"></a><a class="code" href="classoperations__research_1_1AstBoolLit.html#6bc47f7baabab5012df159f141f10b41">00169</a>   <span class="keyword">virtual</span> <span class="keywordtype">string</span> <a class="code" href="classoperations__research_1_1AstBoolLit.html#6bc47f7baabab5012df159f141f10b41" title="Output string representation.">DebugString</a>()<span class="keyword"> const </span>{
<a name="l00170"></a>00170     <span class="keywordflow">return</span> <a class="code" href="classoperations__research_1_1AstBoolLit.html#f728cc3fad042927c46ea10c57e9b52c">b</a> ? <span class="stringliteral">"b(true)"</span> : <span class="stringliteral">"b(false)"</span>;
<a name="l00171"></a>00171   }
<a name="l00172"></a>00172 };
<a name="l00173"></a>00173 <span class="comment"></span>
<a name="l00174"></a>00174 <span class="comment">/// Integer literal node</span>
<a name="l00175"></a><a class="code" href="classoperations__research_1_1AstIntLit.html">00175</a> <span class="comment"></span><span class="keyword">class </span><a class="code" href="classoperations__research_1_1AstIntLit.html" title="Integer literal node.">AstIntLit</a> : <span class="keyword">public</span> <a class="code" href="classoperations__research_1_1AstNode.html" title="A node in a FlatZinc abstract syntax tree.">AstNode</a> {
<a name="l00176"></a>00176  <span class="keyword">public</span>:
<a name="l00177"></a><a class="code" href="classoperations__research_1_1AstIntLit.html#2147957160ec677efa4ba40826e93504">00177</a>   int64 <a class="code" href="classoperations__research_1_1AstIntLit.html#2147957160ec677efa4ba40826e93504">i</a>;
<a name="l00178"></a><a class="code" href="classoperations__research_1_1AstIntLit.html#463ac610de0a1148284ca16517f52d7e">00178</a>   <a class="code" href="classoperations__research_1_1AstIntLit.html#463ac610de0a1148284ca16517f52d7e">AstIntLit</a>(int64 i0) : <a class="code" href="classoperations__research_1_1AstIntLit.html#2147957160ec677efa4ba40826e93504">i</a>(i0) {}
<a name="l00179"></a><a class="code" href="classoperations__research_1_1AstIntLit.html#e7d75634f157c211ba376577961ba5ec">00179</a>   <span class="keyword">virtual</span> <span class="keywordtype">string</span> <a class="code" href="classoperations__research_1_1AstIntLit.html#e7d75634f157c211ba376577961ba5ec" title="Output string representation.">DebugString</a>()<span class="keyword"> const </span>{
<a name="l00180"></a>00180     <span class="keywordflow">return</span> StringPrintf(<span class="stringliteral">"i(%"</span> GG_LL_FORMAT <span class="stringliteral">"d)"</span>, <a class="code" href="classoperations__research_1_1AstIntLit.html#2147957160ec677efa4ba40826e93504">i</a>);
<a name="l00181"></a>00181   }
<a name="l00182"></a>00182 };<span class="comment"></span>
<a name="l00183"></a>00183 <span class="comment">/// Float literal node</span>
<a name="l00184"></a><a class="code" href="classoperations__research_1_1AstFloatLit.html">00184</a> <span class="comment"></span><span class="keyword">class </span><a class="code" href="classoperations__research_1_1AstFloatLit.html" title="Float literal node.">AstFloatLit</a> : <span class="keyword">public</span> <a class="code" href="classoperations__research_1_1AstNode.html" title="A node in a FlatZinc abstract syntax tree.">AstNode</a> {
<a name="l00185"></a>00185  <span class="keyword">public</span>:
<a name="l00186"></a><a class="code" href="classoperations__research_1_1AstFloatLit.html#0e97fc0522bf26816b9ec5ce1e2d4dc0">00186</a>   <span class="keywordtype">double</span> <a class="code" href="classoperations__research_1_1AstFloatLit.html#0e97fc0522bf26816b9ec5ce1e2d4dc0">d</a>;
<a name="l00187"></a><a class="code" href="classoperations__research_1_1AstFloatLit.html#e58edfbfdcb56e2256eb13ebfecd02c6">00187</a>   <a class="code" href="classoperations__research_1_1AstFloatLit.html#e58edfbfdcb56e2256eb13ebfecd02c6">AstFloatLit</a>(<span class="keywordtype">double</span> d0) : <a class="code" href="classoperations__research_1_1AstFloatLit.html#0e97fc0522bf26816b9ec5ce1e2d4dc0">d</a>(d0) {}
<a name="l00188"></a><a class="code" href="classoperations__research_1_1AstFloatLit.html#5fe0069b690c4a2f90584babbef63310">00188</a>   <span class="keyword">virtual</span> <span class="keywordtype">string</span> <a class="code" href="classoperations__research_1_1AstFloatLit.html#5fe0069b690c4a2f90584babbef63310" title="Output string representation.">DebugString</a>()<span class="keyword"> const </span>{
<a name="l00189"></a>00189     <span class="keywordflow">return</span> StringPrintf(<span class="stringliteral">"f(%f)"</span>, <a class="code" href="classoperations__research_1_1AstFloatLit.html#0e97fc0522bf26816b9ec5ce1e2d4dc0">d</a>);
<a name="l00190"></a>00190   }
<a name="l00191"></a>00191 };<span class="comment"></span>
<a name="l00192"></a>00192 <span class="comment">/// %Set literal node</span>
<a name="l00193"></a><a class="code" href="classoperations__research_1_1AstSetLit.html">00193</a> <span class="comment"></span><span class="keyword">class </span><a class="code" href="classoperations__research_1_1AstSetLit.html" title="Set literal node">AstSetLit</a> : <span class="keyword">public</span> <a class="code" href="classoperations__research_1_1AstNode.html" title="A node in a FlatZinc abstract syntax tree.">AstNode</a> {
<a name="l00194"></a>00194  <span class="keyword">public</span>:
<a name="l00195"></a><a class="code" href="classoperations__research_1_1AstSetLit.html#b1f3e7a964661a8cdc95e4da9f38d033">00195</a>   <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1AstSetLit.html#b1f3e7a964661a8cdc95e4da9f38d033">interval</a>;
<a name="l00196"></a><a class="code" href="classoperations__research_1_1AstSetLit.html#cc6211973a92c4711637c205c1aaacae">00196</a>   int64 <a class="code" href="classoperations__research_1_1AstSetLit.html#cc6211973a92c4711637c205c1aaacae">imin</a>; int64 <a class="code" href="classoperations__research_1_1AstSetLit.html#7065f4f6a852778871d4a30cf478376a">imax</a>;
<a name="l00197"></a><a class="code" href="classoperations__research_1_1AstSetLit.html#70658e37c7d9deb940af34cdd5f84add">00197</a>   std::vector&lt;int64&gt; <a class="code" href="classoperations__research_1_1AstSetLit.html#70658e37c7d9deb940af34cdd5f84add">s</a>;
<a name="l00198"></a><a class="code" href="classoperations__research_1_1AstSetLit.html#ad36668c9e45d202d094191d141846ee">00198</a>   <a class="code" href="classoperations__research_1_1AstSetLit.html#ad36668c9e45d202d094191d141846ee">AstSetLit</a>(<span class="keywordtype">void</span>) {}
<a name="l00199"></a><a class="code" href="classoperations__research_1_1AstSetLit.html#8a29dc889e0a4febd2835d312bbc885f">00199</a>   <a class="code" href="classoperations__research_1_1AstSetLit.html#ad36668c9e45d202d094191d141846ee">AstSetLit</a>(int64 min0, int64 max0) : <a class="code" href="classoperations__research_1_1AstSetLit.html#b1f3e7a964661a8cdc95e4da9f38d033">interval</a>(true), <a class="code" href="classoperations__research_1_1AstSetLit.html#cc6211973a92c4711637c205c1aaacae">imin</a>(min0), <a class="code" href="classoperations__research_1_1AstSetLit.html#7065f4f6a852778871d4a30cf478376a">imax</a>(max0) {}
<a name="l00200"></a><a class="code" href="classoperations__research_1_1AstSetLit.html#c98ca785dc4286489721e565fe30368d">00200</a>   <a class="code" href="classoperations__research_1_1AstSetLit.html#ad36668c9e45d202d094191d141846ee">AstSetLit</a>(<span class="keyword">const</span> std::vector&lt;int64&gt;&amp; s0) : <a class="code" href="classoperations__research_1_1AstSetLit.html#b1f3e7a964661a8cdc95e4da9f38d033">interval</a>(false), <a class="code" href="classoperations__research_1_1AstSetLit.html#70658e37c7d9deb940af34cdd5f84add">s</a>(s0) {}
<a name="l00201"></a><a class="code" href="classoperations__research_1_1AstSetLit.html#217b1285625ccf45f463c495afeec9ec">00201</a>   <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1AstSetLit.html#217b1285625ccf45f463c495afeec9ec">empty</a>(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{
<a name="l00202"></a>00202     <span class="keywordflow">return</span> ( (<a class="code" href="classoperations__research_1_1AstSetLit.html#b1f3e7a964661a8cdc95e4da9f38d033">interval</a> &amp;&amp; <a class="code" href="classoperations__research_1_1AstSetLit.html#cc6211973a92c4711637c205c1aaacae">imin</a> &gt; <a class="code" href="classoperations__research_1_1AstSetLit.html#7065f4f6a852778871d4a30cf478376a">imax</a>) || (!<a class="code" href="classoperations__research_1_1AstSetLit.html#b1f3e7a964661a8cdc95e4da9f38d033">interval</a> &amp;&amp; <a class="code" href="classoperations__research_1_1AstSetLit.html#70658e37c7d9deb940af34cdd5f84add">s</a>.size() == 0));
<a name="l00203"></a>00203   }
<a name="l00204"></a><a class="code" href="classoperations__research_1_1AstSetLit.html#db7120de1ca5b9757cfc843a17cd19cd">00204</a>   <a class="code" href="classoperations__research_1_1AstSetLit.html" title="Set literal node">AstSetLit</a>* <a class="code" href="classoperations__research_1_1AstSetLit.html#db7120de1ca5b9757cfc843a17cd19cd">Copy</a>()<span class="keyword"> const </span>{
<a name="l00205"></a>00205     <span class="keywordflow">if</span> (<a class="code" href="classoperations__research_1_1AstSetLit.html#b1f3e7a964661a8cdc95e4da9f38d033">interval</a>) {
<a name="l00206"></a>00206       <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classoperations__research_1_1AstSetLit.html#ad36668c9e45d202d094191d141846ee">AstSetLit</a>(<a class="code" href="classoperations__research_1_1AstSetLit.html#cc6211973a92c4711637c205c1aaacae">imin</a>, <a class="code" href="classoperations__research_1_1AstSetLit.html#7065f4f6a852778871d4a30cf478376a">imax</a>);
<a name="l00207"></a>00207     } <span class="keywordflow">else</span> {
<a name="l00208"></a>00208       <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classoperations__research_1_1AstSetLit.html#ad36668c9e45d202d094191d141846ee">AstSetLit</a>(<a class="code" href="classoperations__research_1_1AstSetLit.html#70658e37c7d9deb940af34cdd5f84add">s</a>);
<a name="l00209"></a>00209     }
<a name="l00210"></a>00210   }
<a name="l00211"></a><a class="code" href="classoperations__research_1_1AstSetLit.html#60b2ba8dc1e35192b131cb71db5eb631">00211</a>   <span class="keyword">virtual</span> <span class="keywordtype">string</span> <a class="code" href="classoperations__research_1_1AstSetLit.html#60b2ba8dc1e35192b131cb71db5eb631" title="Output string representation.">DebugString</a>()<span class="keyword"> const </span>{
<a name="l00212"></a>00212     <span class="keywordflow">if</span> (<a class="code" href="classoperations__research_1_1AstSetLit.html#b1f3e7a964661a8cdc95e4da9f38d033">interval</a>)
<a name="l00213"></a>00213       <span class="keywordflow">return</span> StringPrintf(<span class="stringliteral">"%"</span> GG_LL_FORMAT <span class="stringliteral">"d..%"</span> GG_LL_FORMAT <span class="stringliteral">"d"</span>,
<a name="l00214"></a>00214                           <a class="code" href="classoperations__research_1_1AstSetLit.html#cc6211973a92c4711637c205c1aaacae">imin</a>, <a class="code" href="classoperations__research_1_1AstSetLit.html#7065f4f6a852778871d4a30cf478376a">imax</a>);
<a name="l00215"></a>00215     <span class="keywordflow">else</span> {
<a name="l00216"></a>00216       <span class="keywordtype">string</span> output = <span class="stringliteral">"s({"</span>;
<a name="l00217"></a>00217       <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="classoperations__research_1_1AstSetLit.html#70658e37c7d9deb940af34cdd5f84add">s</a>.size(); i++) {
<a name="l00218"></a>00218         output += StringPrintf(<span class="stringliteral">"%"</span> GG_LL_FORMAT <span class="stringliteral">"d%s"</span>,
<a name="l00219"></a>00219                                <a class="code" href="classoperations__research_1_1AstSetLit.html#70658e37c7d9deb940af34cdd5f84add">s</a>[i], (i &lt; <a class="code" href="classoperations__research_1_1AstSetLit.html#70658e37c7d9deb940af34cdd5f84add">s</a>.size()-1 ? <span class="stringliteral">", "</span> : <span class="stringliteral">"})"</span>));
<a name="l00220"></a>00220       }
<a name="l00221"></a>00221       <span class="keywordflow">return</span> output;
<a name="l00222"></a>00222     }
<a name="l00223"></a>00223   }
<a name="l00224"></a>00224 };
<a name="l00225"></a>00225 <span class="comment"></span>
<a name="l00226"></a>00226 <span class="comment">/// Variable node base class</span>
<a name="l00227"></a><a class="code" href="classoperations__research_1_1AstVar.html">00227</a> <span class="comment"></span><span class="keyword">class </span><a class="code" href="classoperations__research_1_1AstVar.html" title="Variable node base class.">AstVar</a> : <span class="keyword">public</span> <a class="code" href="classoperations__research_1_1AstNode.html" title="A node in a FlatZinc abstract syntax tree.">AstNode</a> {
<a name="l00228"></a>00228  <span class="keyword">public</span>:
<a name="l00229"></a><a class="code" href="classoperations__research_1_1AstVar.html#fa10945843379675d1d5ef46fc1d04d3">00229</a>   <span class="keywordtype">int</span> <a class="code" href="classoperations__research_1_1AstVar.html#fa10945843379675d1d5ef46fc1d04d3">i</a>;
<a name="l00230"></a><a class="code" href="classoperations__research_1_1AstVar.html#1d02cd8cf279ca26200b669748e90c08">00230</a>   <a class="code" href="classoperations__research_1_1AstVar.html#1d02cd8cf279ca26200b669748e90c08">AstVar</a>(<span class="keywordtype">int</span> i0) : <a class="code" href="classoperations__research_1_1AstVar.html#fa10945843379675d1d5ef46fc1d04d3">i</a>(i0) {}
<a name="l00231"></a>00231 };<span class="comment"></span>
<a name="l00232"></a>00232 <span class="comment">/// Boolean variable node</span>
<a name="l00233"></a><a class="code" href="classoperations__research_1_1AstBoolVar.html">00233</a> <span class="comment"></span><span class="keyword">class </span><a class="code" href="classoperations__research_1_1AstBoolVar.html" title="Boolean variable node.">AstBoolVar</a> : <span class="keyword">public</span> <a class="code" href="classoperations__research_1_1AstVar.html" title="Variable node base class.">AstVar</a> {
<a name="l00234"></a>00234  <span class="keyword">public</span>:
<a name="l00235"></a><a class="code" href="classoperations__research_1_1AstBoolVar.html#878f1751de0deaeee5c2fe941f037885">00235</a>   <a class="code" href="classoperations__research_1_1AstBoolVar.html#878f1751de0deaeee5c2fe941f037885">AstBoolVar</a>(<span class="keywordtype">int</span> i0) : <a class="code" href="classoperations__research_1_1AstVar.html" title="Variable node base class.">AstVar</a>(i0) {}
<a name="l00236"></a><a class="code" href="classoperations__research_1_1AstBoolVar.html#0fd38c30fc17161cad54816f76828200">00236</a>   <span class="keyword">virtual</span> <span class="keywordtype">string</span> <a class="code" href="classoperations__research_1_1AstBoolVar.html#0fd38c30fc17161cad54816f76828200" title="Output string representation.">DebugString</a>()<span class="keyword"> const </span>{
<a name="l00237"></a>00237     <span class="keywordflow">return</span> StringPrintf(<span class="stringliteral">"xb(%d)"</span>, <a class="code" href="classoperations__research_1_1AstVar.html#fa10945843379675d1d5ef46fc1d04d3">i</a>);
<a name="l00238"></a>00238   }
<a name="l00239"></a>00239 };<span class="comment"></span>
<a name="l00240"></a>00240 <span class="comment">/// Integer variable node</span>
<a name="l00241"></a><a class="code" href="classoperations__research_1_1AstIntVar.html">00241</a> <span class="comment"></span><span class="keyword">class </span><a class="code" href="classoperations__research_1_1AstIntVar.html" title="Integer variable node.">AstIntVar</a> : <span class="keyword">public</span> <a class="code" href="classoperations__research_1_1AstVar.html" title="Variable node base class.">AstVar</a> {
<a name="l00242"></a>00242  <span class="keyword">public</span>:
<a name="l00243"></a><a class="code" href="classoperations__research_1_1AstIntVar.html#099d2632f908b7f81c7a99b71c014b85">00243</a>   <a class="code" href="classoperations__research_1_1AstIntVar.html#099d2632f908b7f81c7a99b71c014b85">AstIntVar</a>(<span class="keywordtype">int</span> i0) : <a class="code" href="classoperations__research_1_1AstVar.html" title="Variable node base class.">AstVar</a>(i0) {}
<a name="l00244"></a><a class="code" href="classoperations__research_1_1AstIntVar.html#c22b9d16791377f4d315e2736b0515da">00244</a>   <span class="keyword">virtual</span> <span class="keywordtype">string</span> <a class="code" href="classoperations__research_1_1AstIntVar.html#c22b9d16791377f4d315e2736b0515da" title="Output string representation.">DebugString</a>()<span class="keyword"> const </span>{
<a name="l00245"></a>00245     <span class="keywordflow">return</span> StringPrintf(<span class="stringliteral">"xi(%d)"</span>, <a class="code" href="classoperations__research_1_1AstVar.html#fa10945843379675d1d5ef46fc1d04d3">i</a>);
<a name="l00246"></a>00246   }
<a name="l00247"></a>00247 };<span class="comment"></span>
<a name="l00248"></a>00248 <span class="comment">/// Float variable node</span>
<a name="l00249"></a><a class="code" href="classoperations__research_1_1AstFloatVar.html">00249</a> <span class="comment"></span><span class="keyword">class </span><a class="code" href="classoperations__research_1_1AstFloatVar.html" title="Float variable node.">AstFloatVar</a> : <span class="keyword">public</span> <a class="code" href="classoperations__research_1_1AstVar.html" title="Variable node base class.">AstVar</a> {
<a name="l00250"></a>00250  <span class="keyword">public</span>:
<a name="l00251"></a><a class="code" href="classoperations__research_1_1AstFloatVar.html#a5d6d2264e91a17edaf123dccdd41b90">00251</a>   <a class="code" href="classoperations__research_1_1AstFloatVar.html#a5d6d2264e91a17edaf123dccdd41b90">AstFloatVar</a>(<span class="keywordtype">int</span> i0) : <a class="code" href="classoperations__research_1_1AstVar.html" title="Variable node base class.">AstVar</a>(i0) {}
<a name="l00252"></a><a class="code" href="classoperations__research_1_1AstFloatVar.html#396f231c8752e182f6118d2cd87847dd">00252</a>   <span class="keyword">virtual</span> <span class="keywordtype">string</span> <a class="code" href="classoperations__research_1_1AstFloatVar.html#396f231c8752e182f6118d2cd87847dd" title="Output string representation.">DebugString</a>()<span class="keyword"> const </span>{
<a name="l00253"></a>00253     <span class="keywordflow">return</span> StringPrintf(<span class="stringliteral">"xf(%d)"</span>, <a class="code" href="classoperations__research_1_1AstVar.html#fa10945843379675d1d5ef46fc1d04d3">i</a>);
<a name="l00254"></a>00254   }
<a name="l00255"></a>00255 };<span class="comment"></span>
<a name="l00256"></a>00256 <span class="comment">/// %Set variable node</span>
<a name="l00257"></a><a class="code" href="classoperations__research_1_1AstSetVar.html">00257</a> <span class="comment"></span><span class="keyword">class </span><a class="code" href="classoperations__research_1_1AstSetVar.html" title="Set variable node">AstSetVar</a> : <span class="keyword">public</span> <a class="code" href="classoperations__research_1_1AstVar.html" title="Variable node base class.">AstVar</a> {
<a name="l00258"></a>00258  <span class="keyword">public</span>:
<a name="l00259"></a><a class="code" href="classoperations__research_1_1AstSetVar.html#f0b745439e8f360565454ed3d019d6c8">00259</a>   <a class="code" href="classoperations__research_1_1AstSetVar.html#f0b745439e8f360565454ed3d019d6c8">AstSetVar</a>(<span class="keywordtype">int</span> i0) : <a class="code" href="classoperations__research_1_1AstVar.html" title="Variable node base class.">AstVar</a>(i0) {}
<a name="l00260"></a><a class="code" href="classoperations__research_1_1AstSetVar.html#f9a9c230359fa7dd060a9a2649f582aa">00260</a>   <span class="keyword">virtual</span> <span class="keywordtype">string</span> <a class="code" href="classoperations__research_1_1AstSetVar.html#f9a9c230359fa7dd060a9a2649f582aa" title="Output string representation.">DebugString</a>()<span class="keyword"> const </span>{
<a name="l00261"></a>00261     <span class="keywordflow">return</span> StringPrintf(<span class="stringliteral">"xs(%d)"</span>, <a class="code" href="classoperations__research_1_1AstVar.html#fa10945843379675d1d5ef46fc1d04d3">i</a>);
<a name="l00262"></a>00262   }
<a name="l00263"></a>00263 };
<a name="l00264"></a>00264 <span class="comment"></span>
<a name="l00265"></a>00265 <span class="comment">/// %Array node</span>
<a name="l00266"></a><a class="code" href="classoperations__research_1_1AstArray.html">00266</a> <span class="comment"></span><span class="keyword">class </span><a class="code" href="classoperations__research_1_1AstArray.html" title="Array node">AstArray</a> : <span class="keyword">public</span> <a class="code" href="classoperations__research_1_1AstNode.html" title="A node in a FlatZinc abstract syntax tree.">AstNode</a> {
<a name="l00267"></a>00267  <span class="keyword">public</span>:
<a name="l00268"></a><a class="code" href="classoperations__research_1_1AstArray.html#b0798e2b3779eb90c3fc7ed37379e815">00268</a>   std::vector&lt;AstNode*&gt; <a class="code" href="classoperations__research_1_1AstArray.html#b0798e2b3779eb90c3fc7ed37379e815">a</a>;
<a name="l00269"></a><a class="code" href="classoperations__research_1_1AstArray.html#4a618a16dad44b82fd7535e6fe0747e7">00269</a>   <a class="code" href="classoperations__research_1_1AstArray.html#4a618a16dad44b82fd7535e6fe0747e7">AstArray</a>(<span class="keyword">const</span> std::vector&lt;AstNode*&gt;&amp; a0)
<a name="l00270"></a>00270       : <a class="code" href="classoperations__research_1_1AstArray.html#b0798e2b3779eb90c3fc7ed37379e815">a</a>(a0) {}
<a name="l00271"></a><a class="code" href="classoperations__research_1_1AstArray.html#8f16567862811163ef261ec9e8df4d6d">00271</a>   <a class="code" href="classoperations__research_1_1AstArray.html#4a618a16dad44b82fd7535e6fe0747e7">AstArray</a>(<a class="code" href="classoperations__research_1_1AstNode.html" title="A node in a FlatZinc abstract syntax tree.">AstNode</a>* n)
<a name="l00272"></a>00272   : <a class="code" href="classoperations__research_1_1AstArray.html#b0798e2b3779eb90c3fc7ed37379e815">a</a>(1) { <a class="code" href="classoperations__research_1_1AstArray.html#b0798e2b3779eb90c3fc7ed37379e815">a</a>[0] = n; }
<a name="l00273"></a><a class="code" href="classoperations__research_1_1AstArray.html#2fa0dfb20c57f2cc10b474b5cfeb0f0d">00273</a>   <a class="code" href="classoperations__research_1_1AstArray.html#4a618a16dad44b82fd7535e6fe0747e7">AstArray</a>(<span class="keywordtype">int</span> n=0) : <a class="code" href="classoperations__research_1_1AstArray.html#b0798e2b3779eb90c3fc7ed37379e815">a</a>(n) {}
<a name="l00274"></a><a class="code" href="classoperations__research_1_1AstArray.html#eee93db956af9084750ee674f8063769">00274</a>   <span class="keyword">virtual</span> <span class="keywordtype">string</span> <a class="code" href="classoperations__research_1_1AstArray.html#eee93db956af9084750ee674f8063769" title="Output string representation.">DebugString</a>()<span class="keyword"> const </span>{
<a name="l00275"></a>00275     <span class="keywordtype">string</span> output = <span class="stringliteral">"["</span>;
<a name="l00276"></a>00276     <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="classoperations__research_1_1AstArray.html#b0798e2b3779eb90c3fc7ed37379e815">a</a>.size(); i++) {
<a name="l00277"></a>00277       output += <a class="code" href="classoperations__research_1_1AstArray.html#b0798e2b3779eb90c3fc7ed37379e815">a</a>[i]-&gt;DebugString();
<a name="l00278"></a>00278       <span class="keywordflow">if</span> (i &lt; <a class="code" href="classoperations__research_1_1AstArray.html#b0798e2b3779eb90c3fc7ed37379e815">a</a>.size() - 1)
<a name="l00279"></a>00279         output += <span class="stringliteral">", "</span>;
<a name="l00280"></a>00280     }
<a name="l00281"></a>00281     output += <span class="stringliteral">"]"</span>;
<a name="l00282"></a>00282     <span class="keywordflow">return</span> output;
<a name="l00283"></a>00283   }
<a name="l00284"></a><a class="code" href="classoperations__research_1_1AstArray.html#e069136005d8792383e2a240653e1141">00284</a>   <a class="code" href="classoperations__research_1_1AstArray.html#e069136005d8792383e2a240653e1141">~AstArray</a>(<span class="keywordtype">void</span>) {
<a name="l00285"></a>00285     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=<a class="code" href="classoperations__research_1_1AstArray.html#b0798e2b3779eb90c3fc7ed37379e815">a</a>.size(); i--;)
<a name="l00286"></a>00286       <span class="keyword">delete</span> <a class="code" href="classoperations__research_1_1AstArray.html#b0798e2b3779eb90c3fc7ed37379e815">a</a>[i];
<a name="l00287"></a>00287   }
<a name="l00288"></a>00288 };
<a name="l00289"></a>00289 <span class="comment"></span>
<a name="l00290"></a>00290 <span class="comment">/// %Node representing a function call</span>
<a name="l00291"></a><a class="code" href="classoperations__research_1_1AstCall.html">00291</a> <span class="comment"></span><span class="keyword">class </span><a class="code" href="classoperations__research_1_1AstCall.html" title="Node representing a function call">AstCall</a> : <span class="keyword">public</span> <a class="code" href="classoperations__research_1_1AstNode.html" title="A node in a FlatZinc abstract syntax tree.">AstNode</a> {
<a name="l00292"></a>00292  <span class="keyword">public</span>:
<a name="l00293"></a><a class="code" href="classoperations__research_1_1AstCall.html#0d10fc591f13d0358d377bf0c48f86e0">00293</a>   <span class="keyword">const</span> std::string <a class="code" href="classoperations__research_1_1AstCall.html#0d10fc591f13d0358d377bf0c48f86e0">id</a>;
<a name="l00294"></a><a class="code" href="classoperations__research_1_1AstCall.html#6c7424ca9ecbdc2908866948d163d979">00294</a>   <a class="code" href="classoperations__research_1_1AstNode.html" title="A node in a FlatZinc abstract syntax tree.">AstNode</a>* <span class="keyword">const</span> <a class="code" href="classoperations__research_1_1AstCall.html#6c7424ca9ecbdc2908866948d163d979">args</a>;
<a name="l00295"></a><a class="code" href="classoperations__research_1_1AstCall.html#f5a58e5b7a206322d19ffb9f450b5b0f">00295</a>   <a class="code" href="classoperations__research_1_1AstCall.html#f5a58e5b7a206322d19ffb9f450b5b0f">AstCall</a>(<span class="keyword">const</span> std::string&amp; id0, <a class="code" href="classoperations__research_1_1AstNode.html" title="A node in a FlatZinc abstract syntax tree.">AstNode</a>* args0)
<a name="l00296"></a>00296       : <a class="code" href="classoperations__research_1_1AstCall.html#0d10fc591f13d0358d377bf0c48f86e0">id</a>(id0), <a class="code" href="classoperations__research_1_1AstCall.html#6c7424ca9ecbdc2908866948d163d979">args</a>(args0) {}
<a name="l00297"></a><a class="code" href="classoperations__research_1_1AstCall.html#863347a620715d92629122043a16eb41">00297</a>   <a class="code" href="classoperations__research_1_1AstCall.html#863347a620715d92629122043a16eb41">~AstCall</a>(<span class="keywordtype">void</span>) { <span class="keyword">delete</span> <a class="code" href="classoperations__research_1_1AstCall.html#6c7424ca9ecbdc2908866948d163d979">args</a>; }
<a name="l00298"></a><a class="code" href="classoperations__research_1_1AstCall.html#b8e0d6de0cb3fa7c6cc4ccb33b373677">00298</a>   <span class="keyword">virtual</span> <span class="keywordtype">string</span> <a class="code" href="classoperations__research_1_1AstCall.html#b8e0d6de0cb3fa7c6cc4ccb33b373677" title="Output string representation.">DebugString</a>()<span class="keyword"> const </span>{
<a name="l00299"></a>00299     <span class="keywordflow">return</span> StringPrintf(<span class="stringliteral">"%s(%s)"</span>, <span class="keywordtype">id</span>.c_str(), <a class="code" href="classoperations__research_1_1AstCall.html#6c7424ca9ecbdc2908866948d163d979">args</a>-&gt;<a class="code" href="classoperations__research_1_1AstNode.html#6e981e3dac0a576beecf101e5d89a806" title="Output string representation.">DebugString</a>().c_str());
<a name="l00300"></a>00300   }
<a name="l00301"></a><a class="code" href="classoperations__research_1_1AstCall.html#db593b8c23de7f11667d72017c254089">00301</a>   <a class="code" href="classoperations__research_1_1AstArray.html" title="Array node">AstArray</a>* <a class="code" href="classoperations__research_1_1AstCall.html#db593b8c23de7f11667d72017c254089">getArgs</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n) {
<a name="l00302"></a>00302     <a class="code" href="classoperations__research_1_1AstArray.html" title="Array node">AstArray</a> *a = <a class="code" href="classoperations__research_1_1AstCall.html#6c7424ca9ecbdc2908866948d163d979">args</a>-&gt;<a class="code" href="classoperations__research_1_1AstNode.html#de326d9355b68c1d6b8e33a8521313fd" title="Cast this node to an array node.">getArray</a>();
<a name="l00303"></a>00303     <span class="keywordflow">if</span> (a-&gt;<a class="code" href="classoperations__research_1_1AstArray.html#b0798e2b3779eb90c3fc7ed37379e815">a</a>.size() != n)
<a name="l00304"></a>00304       <span class="keywordflow">throw</span> <a class="code" href="classoperations__research_1_1AstTypeError.html" title="Exception signaling type error">AstTypeError</a>(<span class="stringliteral">"arity mismatch"</span>);
<a name="l00305"></a>00305     <span class="keywordflow">return</span> a;
<a name="l00306"></a>00306   }
<a name="l00307"></a>00307 };
<a name="l00308"></a>00308 <span class="comment"></span>
<a name="l00309"></a>00309 <span class="comment">/// %Node representing an array access</span>
<a name="l00310"></a><a class="code" href="classoperations__research_1_1AstArrayAccess.html">00310</a> <span class="comment"></span><span class="keyword">class </span><a class="code" href="classoperations__research_1_1AstArrayAccess.html" title="Node representing an array access">AstArrayAccess</a> : <span class="keyword">public</span> <a class="code" href="classoperations__research_1_1AstNode.html" title="A node in a FlatZinc abstract syntax tree.">AstNode</a> {
<a name="l00311"></a>00311  <span class="keyword">public</span>:
<a name="l00312"></a><a class="code" href="classoperations__research_1_1AstArrayAccess.html#cb4e29a1497aa528555c81d2712b96f6">00312</a>   <a class="code" href="classoperations__research_1_1AstNode.html" title="A node in a FlatZinc abstract syntax tree.">AstNode</a>* <a class="code" href="classoperations__research_1_1AstArrayAccess.html#cb4e29a1497aa528555c81d2712b96f6">a</a>;
<a name="l00313"></a><a class="code" href="classoperations__research_1_1AstArrayAccess.html#ccfa74c7a6f12a69a99d3069f1077883">00313</a>   <a class="code" href="classoperations__research_1_1AstNode.html" title="A node in a FlatZinc abstract syntax tree.">AstNode</a>* <a class="code" href="classoperations__research_1_1AstArrayAccess.html#ccfa74c7a6f12a69a99d3069f1077883">idx</a>;
<a name="l00314"></a><a class="code" href="classoperations__research_1_1AstArrayAccess.html#42a75cb000eac0e1f6dc82aaa27a9492">00314</a>   <a class="code" href="classoperations__research_1_1AstArrayAccess.html#42a75cb000eac0e1f6dc82aaa27a9492">AstArrayAccess</a>(<a class="code" href="classoperations__research_1_1AstNode.html" title="A node in a FlatZinc abstract syntax tree.">AstNode</a>* a0, <a class="code" href="classoperations__research_1_1AstNode.html" title="A node in a FlatZinc abstract syntax tree.">AstNode</a>* idx0)
<a name="l00315"></a>00315       : <a class="code" href="classoperations__research_1_1AstArrayAccess.html#cb4e29a1497aa528555c81d2712b96f6">a</a>(a0), <a class="code" href="classoperations__research_1_1AstArrayAccess.html#ccfa74c7a6f12a69a99d3069f1077883">idx</a>(idx0) {}
<a name="l00316"></a><a class="code" href="classoperations__research_1_1AstArrayAccess.html#7ee51148866bbee39d3e450122c69c04">00316</a>   <a class="code" href="classoperations__research_1_1AstArrayAccess.html#7ee51148866bbee39d3e450122c69c04">~AstArrayAccess</a>(<span class="keywordtype">void</span>) { <span class="keyword">delete</span> <a class="code" href="classoperations__research_1_1AstArrayAccess.html#cb4e29a1497aa528555c81d2712b96f6">a</a>; <span class="keyword">delete</span> <a class="code" href="classoperations__research_1_1AstArrayAccess.html#ccfa74c7a6f12a69a99d3069f1077883">idx</a>; }
<a name="l00317"></a><a class="code" href="classoperations__research_1_1AstArrayAccess.html#8d6e828d9f9cd826574e31357c38e0cf">00317</a>   <span class="keyword">virtual</span> <span class="keywordtype">string</span> <a class="code" href="classoperations__research_1_1AstArrayAccess.html#8d6e828d9f9cd826574e31357c38e0cf" title="Output string representation.">DebugString</a>()<span class="keyword"> const </span>{
<a name="l00318"></a>00318     <span class="keywordflow">return</span> StringPrintf(<span class="stringliteral">"%s[%s]"</span>,
<a name="l00319"></a>00319                         <a class="code" href="classoperations__research_1_1AstArrayAccess.html#cb4e29a1497aa528555c81d2712b96f6">a</a>-&gt;<a class="code" href="classoperations__research_1_1AstNode.html#6e981e3dac0a576beecf101e5d89a806" title="Output string representation.">DebugString</a>().c_str(),
<a name="l00320"></a>00320                         <a class="code" href="classoperations__research_1_1AstArrayAccess.html#ccfa74c7a6f12a69a99d3069f1077883">idx</a>-&gt;<a class="code" href="classoperations__research_1_1AstNode.html#6e981e3dac0a576beecf101e5d89a806" title="Output string representation.">DebugString</a>().c_str());
<a name="l00321"></a>00321   }
<a name="l00322"></a>00322 };
<a name="l00323"></a>00323 <span class="comment"></span>
<a name="l00324"></a>00324 <span class="comment">/// %Node representing an atom</span>
<a name="l00325"></a><a class="code" href="classoperations__research_1_1AstAtom.html">00325</a> <span class="comment"></span><span class="keyword">class </span><a class="code" href="classoperations__research_1_1AstAtom.html" title="Node representing an atom">AstAtom</a> : <span class="keyword">public</span> <a class="code" href="classoperations__research_1_1AstNode.html" title="A node in a FlatZinc abstract syntax tree.">AstNode</a> {
<a name="l00326"></a>00326  <span class="keyword">public</span>:
<a name="l00327"></a><a class="code" href="classoperations__research_1_1AstAtom.html#8549d63ca2ed4dd69306b18c938ad16d">00327</a>   std::string <a class="code" href="classoperations__research_1_1AstAtom.html#8549d63ca2ed4dd69306b18c938ad16d">id</a>;
<a name="l00328"></a><a class="code" href="classoperations__research_1_1AstAtom.html#a48b480d687ca1f8627dbccba615330d">00328</a>   <a class="code" href="classoperations__research_1_1AstAtom.html#a48b480d687ca1f8627dbccba615330d">AstAtom</a>(<span class="keyword">const</span> std::string&amp; id0) : <a class="code" href="classoperations__research_1_1AstAtom.html#8549d63ca2ed4dd69306b18c938ad16d">id</a>(id0) {}
<a name="l00329"></a><a class="code" href="classoperations__research_1_1AstAtom.html#70945bc73cd3d938e7294ff12f947994">00329</a>   <span class="keyword">virtual</span> <span class="keywordtype">string</span> <a class="code" href="classoperations__research_1_1AstAtom.html#70945bc73cd3d938e7294ff12f947994" title="Output string representation.">DebugString</a>()<span class="keyword"> const </span>{
<a name="l00330"></a>00330     <span class="keywordflow">return</span> <a class="code" href="classoperations__research_1_1AstAtom.html#8549d63ca2ed4dd69306b18c938ad16d">id</a>;
<a name="l00331"></a>00331   }
<a name="l00332"></a>00332 };
<a name="l00333"></a>00333 <span class="comment"></span>
<a name="l00334"></a>00334 <span class="comment">/// %String node</span>
<a name="l00335"></a><a class="code" href="classoperations__research_1_1AstString.html">00335</a> <span class="comment"></span><span class="keyword">class </span><a class="code" href="classoperations__research_1_1AstString.html" title="String node">AstString</a> : <span class="keyword">public</span> <a class="code" href="classoperations__research_1_1AstNode.html" title="A node in a FlatZinc abstract syntax tree.">AstNode</a> {
<a name="l00336"></a>00336  <span class="keyword">public</span>:
<a name="l00337"></a><a class="code" href="classoperations__research_1_1AstString.html#ce471c5aa9976183bb479b579b27b4bc">00337</a>   std::string <a class="code" href="classoperations__research_1_1AstString.html#ce471c5aa9976183bb479b579b27b4bc">s</a>;
<a name="l00338"></a><a class="code" href="classoperations__research_1_1AstString.html#2dbfdd00c2a3cd35cda9c349c3e7aa06">00338</a>   <a class="code" href="classoperations__research_1_1AstString.html#2dbfdd00c2a3cd35cda9c349c3e7aa06">AstString</a>(<span class="keyword">const</span> std::string&amp; s0) : <a class="code" href="classoperations__research_1_1AstString.html#ce471c5aa9976183bb479b579b27b4bc">s</a>(s0) {}
<a name="l00339"></a><a class="code" href="classoperations__research_1_1AstString.html#9af91619146e50a864c8f04eb0d8f499">00339</a>   <span class="keyword">virtual</span> <span class="keywordtype">string</span> <a class="code" href="classoperations__research_1_1AstString.html#9af91619146e50a864c8f04eb0d8f499" title="Output string representation.">DebugString</a>()<span class="keyword"> const </span>{
<a name="l00340"></a>00340     <span class="keywordflow">return</span> StringPrintf(<span class="stringliteral">"s(\"%s\")"</span>, <a class="code" href="classoperations__research_1_1AstString.html#ce471c5aa9976183bb479b579b27b4bc">s</a>.c_str());
<a name="l00341"></a>00341   }
<a name="l00342"></a>00342 };
<a name="l00343"></a>00343 
<a name="l00344"></a><a class="code" href="classoperations__research_1_1AstNode.html#a7eb4679b78048b3ede632977268e4cf">00344</a> <span class="keyword">inline</span> <a class="code" href="classoperations__research_1_1AstNode.html#a7eb4679b78048b3ede632977268e4cf" title="Destructor.">AstNode::~AstNode</a>(<span class="keywordtype">void</span>) {}
<a name="l00345"></a>00345 
<a name="l00346"></a><a class="code" href="classoperations__research_1_1AstNode.html#c9c8d2ad291d81f39a4199edbb1ea91d">00346</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> AstNode::append(<a class="code" href="classoperations__research_1_1AstNode.html" title="A node in a FlatZinc abstract syntax tree.">AstNode</a>* newNode) {
<a name="l00347"></a>00347   <a class="code" href="classoperations__research_1_1AstArray.html" title="Array node">AstArray</a>* a = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classoperations__research_1_1AstArray.html" title="Array node">AstArray</a>*<span class="keyword">&gt;</span>(<span class="keyword">this</span>);
<a name="l00348"></a>00348   <span class="keywordflow">if</span> (!a)
<a name="l00349"></a>00349     <span class="keywordflow">throw</span> <a class="code" href="classoperations__research_1_1AstTypeError.html" title="Exception signaling type error">AstTypeError</a>(<span class="stringliteral">"array expected"</span>);
<a name="l00350"></a>00350   a-&gt;<a class="code" href="classoperations__research_1_1AstArray.html#b0798e2b3779eb90c3fc7ed37379e815">a</a>.push_back(newNode);
<a name="l00351"></a>00351 }
<a name="l00352"></a>00352 
<a name="l00353"></a><a class="code" href="classoperations__research_1_1AstNode.html#d822048b8a63f4b9b73c7ea542fffe43">00353</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1AstNode.html#d822048b8a63f4b9b73c7ea542fffe43" title="Test if node has atom with id.">AstNode::hasAtom</a>(<span class="keyword">const</span> std::string&amp; <span class="keywordtype">id</span>) {
<a name="l00354"></a>00354   <span class="keywordflow">if</span> (<a class="code" href="classoperations__research_1_1AstArray.html" title="Array node">AstArray</a>* a = dynamic_cast&lt;AstArray*&gt;(<span class="keyword">this</span>)) {
<a name="l00355"></a>00355     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=a-&gt;a.size(); i--;)
<a name="l00356"></a>00356       <span class="keywordflow">if</span> (<a class="code" href="classoperations__research_1_1AstAtom.html" title="Node representing an atom">AstAtom</a>* at = dynamic_cast&lt;AstAtom*&gt;(a-&gt;a[i]))
<a name="l00357"></a>00357         <span class="keywordflow">if</span> (at-&gt;id == <span class="keywordtype">id</span>)
<a name="l00358"></a>00358           <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00359"></a>00359   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classoperations__research_1_1AstAtom.html" title="Node representing an atom">AstAtom</a>* a = dynamic_cast&lt;AstAtom*&gt;(<span class="keyword">this</span>)) {
<a name="l00360"></a>00360     <span class="keywordflow">return</span> a-&gt;id == id;
<a name="l00361"></a>00361   }
<a name="l00362"></a>00362   <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00363"></a>00363 }
<a name="l00364"></a>00364 
<a name="l00365"></a><a class="code" href="classoperations__research_1_1AstNode.html#6139321bc53e986b38ec7b21cc9f381f">00365</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1AstNode.html#6139321bc53e986b38ec7b21cc9f381f" title="Test if node is function call with id.">AstNode::isCall</a>(<span class="keyword">const</span> std::string&amp; <span class="keywordtype">id</span>) {
<a name="l00366"></a>00366   <span class="keywordflow">if</span> (<a class="code" href="classoperations__research_1_1AstCall.html" title="Node representing a function call">AstCall</a>* a = dynamic_cast&lt;AstCall*&gt;(<span class="keyword">this</span>)) {
<a name="l00367"></a>00367     <span class="keywordflow">if</span> (a-&gt;id == <span class="keywordtype">id</span>)
<a name="l00368"></a>00368       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00369"></a>00369   }
<a name="l00370"></a>00370   <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00371"></a>00371 }
<a name="l00372"></a>00372 
<a name="l00373"></a><a class="code" href="classoperations__research_1_1AstNode.html#fb67853691b03450e0e41cf9856ca4df">00373</a> <span class="keyword">inline</span> <a class="code" href="classoperations__research_1_1AstCall.html" title="Node representing a function call">AstCall</a>* <a class="code" href="classoperations__research_1_1AstNode.html#fb67853691b03450e0e41cf9856ca4df" title="Return function call.">AstNode::getCall</a>(<span class="keywordtype">void</span>) {
<a name="l00374"></a>00374   <span class="keywordflow">if</span> (<a class="code" href="classoperations__research_1_1AstCall.html" title="Node representing a function call">AstCall</a>* a = dynamic_cast&lt;AstCall*&gt;(<span class="keyword">this</span>))
<a name="l00375"></a>00375     <span class="keywordflow">return</span> a;
<a name="l00376"></a>00376   <span class="keywordflow">throw</span> <a class="code" href="classoperations__research_1_1AstTypeError.html" title="Exception signaling type error">AstTypeError</a>(<span class="stringliteral">"call expected"</span>);
<a name="l00377"></a>00377 }
<a name="l00378"></a>00378 
<a name="l00379"></a><a class="code" href="classoperations__research_1_1AstNode.html#be1146a0130ab80924676887523a64e4">00379</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1AstNode.html#be1146a0130ab80924676887523a64e4" title="Test if node is function call or array containing function call id.">AstNode::hasCall</a>(<span class="keyword">const</span> std::string&amp; <span class="keywordtype">id</span>) {
<a name="l00380"></a>00380   <span class="keywordflow">if</span> (<a class="code" href="classoperations__research_1_1AstArray.html" title="Array node">AstArray</a>* a = dynamic_cast&lt;AstArray*&gt;(<span class="keyword">this</span>)) {
<a name="l00381"></a>00381     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=a-&gt;a.size(); i--;)
<a name="l00382"></a>00382       <span class="keywordflow">if</span> (<a class="code" href="classoperations__research_1_1AstCall.html" title="Node representing a function call">AstCall</a>* at = dynamic_cast&lt;AstCall*&gt;(a-&gt;a[i]))
<a name="l00383"></a>00383         <span class="keywordflow">if</span> (at-&gt;id == <span class="keywordtype">id</span>) {
<a name="l00384"></a>00384           <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00385"></a>00385         }
<a name="l00386"></a>00386   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classoperations__research_1_1AstCall.html" title="Node representing a function call">AstCall</a>* a = dynamic_cast&lt;AstCall*&gt;(<span class="keyword">this</span>)) {
<a name="l00387"></a>00387     <span class="keywordflow">return</span> a-&gt;id == id;
<a name="l00388"></a>00388   }
<a name="l00389"></a>00389   <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00390"></a>00390 }
<a name="l00391"></a>00391 
<a name="l00392"></a><a class="code" href="classoperations__research_1_1AstNode.html#a8e1174fcd71dc8250fcf57d14c22110">00392</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1AstNode.html#835886445da8ca4870ac04e0daf78988" title="Test if node is an integer node.">AstNode::isInt</a>(<span class="keywordtype">int</span>&amp; i) {
<a name="l00393"></a>00393   <span class="keywordflow">if</span> (<a class="code" href="classoperations__research_1_1AstIntLit.html" title="Integer literal node.">AstIntLit</a>* il = dynamic_cast&lt;AstIntLit*&gt;(<span class="keyword">this</span>)) {
<a name="l00394"></a>00394     i = il-&gt;i;
<a name="l00395"></a>00395     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00396"></a>00396   }
<a name="l00397"></a>00397   <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00398"></a>00398 }
<a name="l00399"></a>00399 
<a name="l00400"></a><a class="code" href="classoperations__research_1_1AstNode.html#5ad379b2f86eab4ed8e4d575ab7c6368">00400</a> <span class="keyword">inline</span> <a class="code" href="classoperations__research_1_1AstCall.html" title="Node representing a function call">AstCall</a>* <a class="code" href="classoperations__research_1_1AstNode.html#fb67853691b03450e0e41cf9856ca4df" title="Return function call.">AstNode::getCall</a>(<span class="keyword">const</span> std::string&amp; <span class="keywordtype">id</span>) {
<a name="l00401"></a>00401   <span class="keywordflow">if</span> (<a class="code" href="classoperations__research_1_1AstArray.html" title="Array node">AstArray</a>* a = dynamic_cast&lt;AstArray*&gt;(<span class="keyword">this</span>)) {
<a name="l00402"></a>00402     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=a-&gt;a.size(); i--;)
<a name="l00403"></a>00403       <span class="keywordflow">if</span> (<a class="code" href="classoperations__research_1_1AstCall.html" title="Node representing a function call">AstCall</a>* at = dynamic_cast&lt;AstCall*&gt;(a-&gt;a[i]))
<a name="l00404"></a>00404         <span class="keywordflow">if</span> (at-&gt;id == <span class="keywordtype">id</span>)
<a name="l00405"></a>00405           <span class="keywordflow">return</span> at;
<a name="l00406"></a>00406   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classoperations__research_1_1AstCall.html" title="Node representing a function call">AstCall</a>* a = dynamic_cast&lt;AstCall*&gt;(<span class="keyword">this</span>)) {
<a name="l00407"></a>00407     <span class="keywordflow">if</span> (a-&gt;id == <span class="keywordtype">id</span>)
<a name="l00408"></a>00408       <span class="keywordflow">return</span> a;
<a name="l00409"></a>00409   }
<a name="l00410"></a>00410   <span class="keywordflow">throw</span> <a class="code" href="classoperations__research_1_1AstTypeError.html" title="Exception signaling type error">AstTypeError</a>(<span class="stringliteral">"call expected"</span>);
<a name="l00411"></a>00411 }
<a name="l00412"></a>00412 
<a name="l00413"></a><a class="code" href="classoperations__research_1_1AstNode.html#de326d9355b68c1d6b8e33a8521313fd">00413</a> <span class="keyword">inline</span> <a class="code" href="classoperations__research_1_1AstArray.html" title="Array node">AstArray</a>* <a class="code" href="classoperations__research_1_1AstNode.html#de326d9355b68c1d6b8e33a8521313fd" title="Cast this node to an array node.">AstNode::getArray</a>(<span class="keywordtype">void</span>) {
<a name="l00414"></a>00414   <span class="keywordflow">if</span> (<a class="code" href="classoperations__research_1_1AstArray.html" title="Array node">AstArray</a>* a = dynamic_cast&lt;AstArray*&gt;(<span class="keyword">this</span>))
<a name="l00415"></a>00415     <span class="keywordflow">return</span> a;
<a name="l00416"></a>00416   <span class="keywordflow">throw</span> <a class="code" href="classoperations__research_1_1AstTypeError.html" title="Exception signaling type error">AstTypeError</a>(<span class="stringliteral">"array expected"</span>);
<a name="l00417"></a>00417 }
<a name="l00418"></a>00418 
<a name="l00419"></a><a class="code" href="classoperations__research_1_1AstNode.html#b737ec0c303a44d4f413206c7aff567a">00419</a> <span class="keyword">inline</span> <a class="code" href="classoperations__research_1_1AstAtom.html" title="Node representing an atom">AstAtom</a>* <a class="code" href="classoperations__research_1_1AstNode.html#b737ec0c303a44d4f413206c7aff567a" title="Cast this node to an Atom node.">AstNode::getAtom</a>(<span class="keywordtype">void</span>) {
<a name="l00420"></a>00420   <span class="keywordflow">if</span> (<a class="code" href="classoperations__research_1_1AstAtom.html" title="Node representing an atom">AstAtom</a>* a = dynamic_cast&lt;AstAtom*&gt;(<span class="keyword">this</span>))
<a name="l00421"></a>00421     <span class="keywordflow">return</span> a;
<a name="l00422"></a>00422   <span class="keywordflow">throw</span> <a class="code" href="classoperations__research_1_1AstTypeError.html" title="Exception signaling type error">AstTypeError</a>(<span class="stringliteral">"atom expected"</span>);
<a name="l00423"></a>00423 }
<a name="l00424"></a>00424 
<a name="l00425"></a><a class="code" href="classoperations__research_1_1AstNode.html#ab61375d4213db96ca10dc84b83fc3fd">00425</a> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="classoperations__research_1_1AstNode.html#ab61375d4213db96ca10dc84b83fc3fd" title="Cast this node to an integer variable node.">AstNode::getIntVar</a>(<span class="keywordtype">void</span>) {
<a name="l00426"></a>00426   <span class="keywordflow">if</span> (<a class="code" href="classoperations__research_1_1AstIntVar.html" title="Integer variable node.">AstIntVar</a>* a = dynamic_cast&lt;AstIntVar*&gt;(<span class="keyword">this</span>))
<a name="l00427"></a>00427     <span class="keywordflow">return</span> a-&gt;i;
<a name="l00428"></a>00428   <span class="keywordflow">throw</span> <a class="code" href="classoperations__research_1_1AstTypeError.html" title="Exception signaling type error">AstTypeError</a>(<span class="stringliteral">"integer variable expected"</span>);
<a name="l00429"></a>00429 }
<a name="l00430"></a><a class="code" href="classoperations__research_1_1AstNode.html#40d89893961b623de6cf8a40950a264d">00430</a> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="classoperations__research_1_1AstNode.html#40d89893961b623de6cf8a40950a264d" title="Cast this node to a Boolean variable node.">AstNode::getBoolVar</a>(<span class="keywordtype">void</span>) {
<a name="l00431"></a>00431   <span class="keywordflow">if</span> (<a class="code" href="classoperations__research_1_1AstBoolVar.html" title="Boolean variable node.">AstBoolVar</a>* a = dynamic_cast&lt;AstBoolVar*&gt;(<span class="keyword">this</span>))
<a name="l00432"></a>00432     <span class="keywordflow">return</span> a-&gt;i;
<a name="l00433"></a>00433   <span class="keywordflow">throw</span> <a class="code" href="classoperations__research_1_1AstTypeError.html" title="Exception signaling type error">AstTypeError</a>(<span class="stringliteral">"bool variable expected"</span>);
<a name="l00434"></a>00434 }
<a name="l00435"></a><a class="code" href="classoperations__research_1_1AstNode.html#e32ba3b7b2dcb0ad1565aa985f9970fb">00435</a> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="classoperations__research_1_1AstNode.html#e32ba3b7b2dcb0ad1565aa985f9970fb" title="Cast this node to a set variable node.">AstNode::getSetVar</a>(<span class="keywordtype">void</span>) {
<a name="l00436"></a>00436   <span class="keywordflow">if</span> (<a class="code" href="classoperations__research_1_1AstSetVar.html" title="Set variable node">AstSetVar</a>* a = dynamic_cast&lt;AstSetVar*&gt;(<span class="keyword">this</span>))
<a name="l00437"></a>00437     <span class="keywordflow">return</span> a-&gt;i;
<a name="l00438"></a>00438   <span class="keywordflow">throw</span> <a class="code" href="classoperations__research_1_1AstTypeError.html" title="Exception signaling type error">AstTypeError</a>(<span class="stringliteral">"set variable expected"</span>);
<a name="l00439"></a>00439 }
<a name="l00440"></a><a class="code" href="classoperations__research_1_1AstNode.html#82f72eb772fa55a97938dac93d99a3e4">00440</a> <span class="keyword">inline</span> int64 <a class="code" href="classoperations__research_1_1AstNode.html#82f72eb772fa55a97938dac93d99a3e4" title="Cast this node to an integer node.">AstNode::getInt</a>(<span class="keywordtype">void</span>) {
<a name="l00441"></a>00441   <span class="keywordflow">if</span> (<a class="code" href="classoperations__research_1_1AstIntLit.html" title="Integer literal node.">AstIntLit</a>* a = dynamic_cast&lt;AstIntLit*&gt;(<span class="keyword">this</span>))
<a name="l00442"></a>00442     <span class="keywordflow">return</span> a-&gt;i;
<a name="l00443"></a>00443   <span class="keywordflow">throw</span> <a class="code" href="classoperations__research_1_1AstTypeError.html" title="Exception signaling type error">AstTypeError</a>(<span class="stringliteral">"integer literal expected"</span>);
<a name="l00444"></a>00444 }
<a name="l00445"></a><a class="code" href="classoperations__research_1_1AstNode.html#d2115db2b37b42271e4882b3767e3112">00445</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1AstNode.html#d2115db2b37b42271e4882b3767e3112" title="Cast thos node to an integer node and assign value.">AstNode::setInt</a>(int64 v) {
<a name="l00446"></a>00446   <span class="keywordflow">if</span> (<a class="code" href="classoperations__research_1_1AstIntLit.html" title="Integer literal node.">AstIntLit</a>* a = dynamic_cast&lt;AstIntLit*&gt;(<span class="keyword">this</span>))
<a name="l00447"></a>00447     a-&gt;i = v;
<a name="l00448"></a>00448   <span class="keywordflow">else</span>
<a name="l00449"></a>00449     <span class="keywordflow">throw</span> <a class="code" href="classoperations__research_1_1AstTypeError.html" title="Exception signaling type error">AstTypeError</a>(<span class="stringliteral">"integer literal expected"</span>);
<a name="l00450"></a>00450 }
<a name="l00451"></a><a class="code" href="classoperations__research_1_1AstNode.html#f0567eb5be0c9a72409d5cdeaa35bc7e">00451</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1AstNode.html#f0567eb5be0c9a72409d5cdeaa35bc7e" title="Cast this node to a Boolean node.">AstNode::getBool</a>(<span class="keywordtype">void</span>) {
<a name="l00452"></a>00452   <span class="keywordflow">if</span> (<a class="code" href="classoperations__research_1_1AstBoolLit.html" title="Boolean literal node.">AstBoolLit</a>* a = dynamic_cast&lt;AstBoolLit*&gt;(<span class="keyword">this</span>))
<a name="l00453"></a>00453     <span class="keywordflow">return</span> a-&gt;b;
<a name="l00454"></a>00454   <span class="keywordflow">throw</span> <a class="code" href="classoperations__research_1_1AstTypeError.html" title="Exception signaling type error">AstTypeError</a>(<span class="stringliteral">"bool literal expected"</span>);
<a name="l00455"></a>00455 }
<a name="l00456"></a><a class="code" href="classoperations__research_1_1AstNode.html#9b4e9761d0ab184006e59f28836a6cd9">00456</a> <span class="keyword">inline</span> <span class="keywordtype">double</span> <a class="code" href="classoperations__research_1_1AstNode.html#9b4e9761d0ab184006e59f28836a6cd9" title="Cast this node to a Float node.">AstNode::getFloat</a>(<span class="keywordtype">void</span>) {
<a name="l00457"></a>00457   <span class="keywordflow">if</span> (<a class="code" href="classoperations__research_1_1AstFloatLit.html" title="Float literal node.">AstFloatLit</a>* a = dynamic_cast&lt;AstFloatLit*&gt;(<span class="keyword">this</span>))
<a name="l00458"></a>00458     <span class="keywordflow">return</span> a-&gt;d;
<a name="l00459"></a>00459   <span class="keywordflow">throw</span> <a class="code" href="classoperations__research_1_1AstTypeError.html" title="Exception signaling type error">AstTypeError</a>(<span class="stringliteral">"float literal expected"</span>);
<a name="l00460"></a>00460 }
<a name="l00461"></a><a class="code" href="classoperations__research_1_1AstNode.html#a2360fc2e4c5d57156d9e2d0ffe03f31">00461</a> <span class="keyword">inline</span> <a class="code" href="classoperations__research_1_1AstSetLit.html" title="Set literal node">AstSetLit</a>* <a class="code" href="classoperations__research_1_1AstNode.html#a2360fc2e4c5d57156d9e2d0ffe03f31" title="Cast this node to a set literal node.">AstNode::getSet</a>(<span class="keywordtype">void</span>) {
<a name="l00462"></a>00462   <span class="keywordflow">if</span> (<a class="code" href="classoperations__research_1_1AstSetLit.html" title="Set literal node">AstSetLit</a>* a = dynamic_cast&lt;AstSetLit*&gt;(<span class="keyword">this</span>))
<a name="l00463"></a>00463     <span class="keywordflow">return</span> a;
<a name="l00464"></a>00464   <span class="keywordflow">throw</span> <a class="code" href="classoperations__research_1_1AstTypeError.html" title="Exception signaling type error">AstTypeError</a>(<span class="stringliteral">"set literal expected"</span>);
<a name="l00465"></a>00465 }
<a name="l00466"></a><a class="code" href="classoperations__research_1_1AstNode.html#a23c09e7e7f967e3a3789fe40d660d62">00466</a> <span class="keyword">inline</span> std::string <a class="code" href="classoperations__research_1_1AstNode.html#a23c09e7e7f967e3a3789fe40d660d62" title="Cast this node to a string node.">AstNode::getString</a>(<span class="keywordtype">void</span>) {
<a name="l00467"></a>00467   <span class="keywordflow">if</span> (<a class="code" href="classoperations__research_1_1AstString.html" title="String node">AstString</a>* a = dynamic_cast&lt;AstString*&gt;(<span class="keyword">this</span>))
<a name="l00468"></a>00468     <span class="keywordflow">return</span> a-&gt;s;
<a name="l00469"></a>00469   <span class="keywordflow">throw</span> <a class="code" href="classoperations__research_1_1AstTypeError.html" title="Exception signaling type error">AstTypeError</a>(<span class="stringliteral">"string literal expected"</span>);
<a name="l00470"></a>00470 }
<a name="l00471"></a><a class="code" href="classoperations__research_1_1AstNode.html#f2abd643d90430d6edd3c0c5ab4f4cee">00471</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1AstNode.html#f2abd643d90430d6edd3c0c5ab4f4cee" title="Test if node is an integer variable node.">AstNode::isIntVar</a>(<span class="keywordtype">void</span>) {
<a name="l00472"></a>00472   <span class="keywordflow">return</span> (dynamic_cast&lt;AstIntVar*&gt;(<span class="keyword">this</span>) != NULL);
<a name="l00473"></a>00473 }
<a name="l00474"></a><a class="code" href="classoperations__research_1_1AstNode.html#be367494c459b4b2c6d738ac23feed78">00474</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1AstNode.html#be367494c459b4b2c6d738ac23feed78" title="Test if node is a Boolean variable node.">AstNode::isBoolVar</a>(<span class="keywordtype">void</span>) {
<a name="l00475"></a>00475   <span class="keywordflow">return</span> (dynamic_cast&lt;AstBoolVar*&gt;(<span class="keyword">this</span>) != NULL);
<a name="l00476"></a>00476 }
<a name="l00477"></a><a class="code" href="classoperations__research_1_1AstNode.html#b467ce220e3bcc4df45ddcad68518119">00477</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1AstNode.html#b467ce220e3bcc4df45ddcad68518119" title="Test if node is a set variable node.">AstNode::isSetVar</a>(<span class="keywordtype">void</span>) {
<a name="l00478"></a>00478   <span class="keywordflow">return</span> (dynamic_cast&lt;AstSetVar*&gt;(<span class="keyword">this</span>) != NULL);
<a name="l00479"></a>00479 }
<a name="l00480"></a><a class="code" href="classoperations__research_1_1AstNode.html#835886445da8ca4870ac04e0daf78988">00480</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1AstNode.html#835886445da8ca4870ac04e0daf78988" title="Test if node is an integer node.">AstNode::isInt</a>(<span class="keywordtype">void</span>) {
<a name="l00481"></a>00481   <span class="keywordflow">return</span> (dynamic_cast&lt;AstIntLit*&gt;(<span class="keyword">this</span>) != NULL);
<a name="l00482"></a>00482 }
<a name="l00483"></a><a class="code" href="classoperations__research_1_1AstNode.html#2d7a39334d92d2c9b78b583e08ad3667">00483</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1AstNode.html#2d7a39334d92d2c9b78b583e08ad3667" title="Test if node is a Boolean node.">AstNode::isBool</a>(<span class="keywordtype">void</span>) {
<a name="l00484"></a>00484   <span class="keywordflow">return</span> (dynamic_cast&lt;AstBoolLit*&gt;(<span class="keyword">this</span>) != NULL);
<a name="l00485"></a>00485 }
<a name="l00486"></a><a class="code" href="classoperations__research_1_1AstNode.html#40df48d7c99d395a31cccdb309971eb7">00486</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1AstNode.html#40df48d7c99d395a31cccdb309971eb7" title="Test if node is a set literal node.">AstNode::isSet</a>(<span class="keywordtype">void</span>) {
<a name="l00487"></a>00487   <span class="keywordflow">return</span> (dynamic_cast&lt;AstSetLit*&gt;(<span class="keyword">this</span>) != NULL);
<a name="l00488"></a>00488 }
<a name="l00489"></a><a class="code" href="classoperations__research_1_1AstNode.html#0923fc769a4c202c09198602d8ce7fc4">00489</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1AstNode.html#0923fc769a4c202c09198602d8ce7fc4" title="Test if node is a string node.">AstNode::isString</a>(<span class="keywordtype">void</span>) {
<a name="l00490"></a>00490   <span class="keywordflow">return</span> (dynamic_cast&lt;AstString*&gt;(<span class="keyword">this</span>) != NULL);
<a name="l00491"></a>00491 }
<a name="l00492"></a><a class="code" href="classoperations__research_1_1AstNode.html#72542d2c0699a56955a3fad8fdd979b6">00492</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1AstNode.html#72542d2c0699a56955a3fad8fdd979b6" title="Test if node is an array node.">AstNode::isArray</a>(<span class="keywordtype">void</span>) {
<a name="l00493"></a>00493   <span class="keywordflow">return</span> (dynamic_cast&lt;AstArray*&gt;(<span class="keyword">this</span>) != NULL);
<a name="l00494"></a>00494 }
<a name="l00495"></a><a class="code" href="classoperations__research_1_1AstNode.html#8d09596428234b33208f69c080c2abba">00495</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1AstNode.html#8d09596428234b33208f69c080c2abba" title="Test if node is an atom node.">AstNode::isAtom</a>(<span class="keywordtype">void</span>) {
<a name="l00496"></a>00496   <span class="keywordflow">return</span> (dynamic_cast&lt;AstAtom*&gt;(<span class="keyword">this</span>) != NULL);
<a name="l00497"></a>00497 }
<a name="l00498"></a>00498 
<a name="l00499"></a><a class="code" href="namespaceoperations__research.html#d9933f2b2d228b287edfeadcd7f1584e">00499</a> <span class="keyword">inline</span> <a class="code" href="classoperations__research_1_1AstNode.html" title="A node in a FlatZinc abstract syntax tree.">AstNode</a>* <a class="code" href="namespaceoperations__research.html#d9933f2b2d228b287edfeadcd7f1584e">AstExtractSingleton</a>(<a class="code" href="classoperations__research_1_1AstNode.html" title="A node in a FlatZinc abstract syntax tree.">AstNode</a>* n) {
<a name="l00500"></a>00500   <span class="keywordflow">if</span> (<a class="code" href="classoperations__research_1_1AstArray.html" title="Array node">AstArray</a>* <span class="keyword">const</span> a = dynamic_cast&lt;AstArray*&gt;(n)) {
<a name="l00501"></a>00501     <span class="keywordflow">if</span> (a-&gt;a.size() == 1) {
<a name="l00502"></a>00502       <a class="code" href="classoperations__research_1_1AstNode.html" title="A node in a FlatZinc abstract syntax tree.">AstNode</a>* <span class="keyword">const</span> ret = a-&gt;a[0];
<a name="l00503"></a>00503       a-&gt;a[0] = NULL;
<a name="l00504"></a>00504       <span class="keyword">delete</span> a;
<a name="l00505"></a>00505       <span class="keywordflow">return</span> ret;
<a name="l00506"></a>00506     }
<a name="l00507"></a>00507   }
<a name="l00508"></a>00508   <span class="keywordflow">return</span> n;
<a name="l00509"></a>00509 }
<a name="l00510"></a>00510 
<a name="l00511"></a>00511 <span class="comment">// ---------- Specifications for constraints and variables ----------</span>
<a name="l00512"></a>00512 
<a name="l00513"></a>00513 <span class="keyword">class </span>CtSpec;
<a name="l00514"></a><a class="code" href="namespaceoperations__research.html#0ae2613f919b7bb9acbccbef94fd3847">00514</a> <span class="keyword">class </span><a class="code" href="classoperations__research_1_1FlatZincModel.html" title="A space that can be initialized with a FlatZinc model.">FlatZincModel</a>;
<a name="l00515"></a>00515 <span class="keyword">typedef</span> hash_set&lt;CtSpec*&gt; <a class="code" href="namespaceoperations__research.html#0ae2613f919b7bb9acbccbef94fd3847">ConstraintSet</a>;
<a name="l00516"></a><a class="code" href="namespaceoperations__research.html#948e87fb465470163b0cbb98195b4fdd">00516</a> <span class="keyword">typedef</span> hash_set&lt;AstNode*&gt; <a class="code" href="namespaceoperations__research.html#948e87fb465470163b0cbb98195b4fdd">NodeSet</a>;
<a name="l00517"></a>00517 <span class="comment"></span>
<a name="l00518"></a>00518 <span class="comment">/// Symbol table mapping identifiers (strings) to values</span>
<a name="l00519"></a><a class="code" href="classoperations__research_1_1SymbolTable.html">00519</a> <span class="comment"></span><span class="keyword">template</span>&lt;<span class="keyword">class</span> Val&gt; <span class="keyword">class </span><a class="code" href="classoperations__research_1_1SymbolTable.html" title="Symbol table mapping identifiers (strings) to values.">SymbolTable</a> {
<a name="l00520"></a>00520  <span class="keyword">public</span>:<span class="comment"></span>
<a name="l00521"></a>00521 <span class="comment">  /// Insert \a val with \a key</span>
<a name="l00522"></a><a class="code" href="classoperations__research_1_1SymbolTable.html#89b45b0b1a5b879a0af6f0523d179b59">00522</a> <span class="comment"></span>  <span class="keywordtype">void</span> put(<span class="keyword">const</span> std::string&amp; key, <span class="keyword">const</span> Val&amp; val) {
<a name="l00523"></a>00523     m[key] = val;
<a name="l00524"></a>00524   }
<a name="l00525"></a>00525 <span class="comment"></span>
<a name="l00526"></a>00526 <span class="comment">  /// Return whether \a key exists, and set \a val if it does exist</span>
<a name="l00527"></a><a class="code" href="classoperations__research_1_1SymbolTable.html#83417fa51e40942268603621306feae3">00527</a> <span class="comment"></span>  <span class="keywordtype">bool</span> <span class="keyword">get</span>(<span class="keyword">const</span> std::string&amp; key, Val&amp; val) <span class="keyword">const</span> {
<a name="l00528"></a>00528     <span class="keyword">typename</span> std::map&lt;std::string,Val&gt;::const_iterator i =
<a name="l00529"></a>00529         m.find(key);
<a name="l00530"></a>00530     <span class="keywordflow">if</span> (i == m.end())
<a name="l00531"></a>00531       <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00532"></a>00532     val = i-&gt;second;
<a name="l00533"></a>00533     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00534"></a>00534   }
<a name="l00535"></a>00535 
<a name="l00536"></a>00536  <span class="keyword">private</span>:
<a name="l00537"></a>00537   std::map&lt;std::string, Val&gt; m;
<a name="l00538"></a>00538 };
<a name="l00539"></a>00539 <span class="comment"></span>
<a name="l00540"></a>00540 <span class="comment">/// %Alias for a variable specification</span>
<a name="l00541"></a><a class="code" href="classoperations__research_1_1Alias.html">00541</a> <span class="comment"></span><span class="keyword">class </span><a class="code" href="classoperations__research_1_1Alias.html" title="Alias for a variable specification">Alias</a> {
<a name="l00542"></a>00542  <span class="keyword">public</span>:
<a name="l00543"></a><a class="code" href="classoperations__research_1_1Alias.html#97b65fa163698b0f2560e202f69092c2">00543</a>   <span class="keyword">const</span> <span class="keywordtype">int</span> v;
<a name="l00544"></a><a class="code" href="classoperations__research_1_1Alias.html#313e9b1e6f4e3459fba752fbcf6b85cd">00544</a>   <a class="code" href="classoperations__research_1_1Alias.html" title="Alias for a variable specification">Alias</a>(<span class="keywordtype">int</span> v0) : v(v0) {}
<a name="l00545"></a>00545 };
<a name="l00546"></a>00546 <span class="comment"></span>
<a name="l00547"></a>00547 <span class="comment">/// Optional value</span>
<a name="l00548"></a><a class="code" href="structoperations__research_1_1Option.html">00548</a> <span class="comment"></span><span class="keyword">template</span>&lt;<span class="keyword">class</span> Val&gt; <span class="keyword">struct </span><a class="code" href="structoperations__research_1_1Option.html" title="Optional value.">Option</a> {
<a name="l00549"></a>00549  <span class="keyword">private</span>:
<a name="l00550"></a>00550   <span class="keywordtype">bool</span> defined_;
<a name="l00551"></a>00551   Val value_;
<a name="l00552"></a>00552  <span class="keyword">public</span>:
<a name="l00553"></a><a class="code" href="structoperations__research_1_1Option.html#f0d87f1bd183a7afbd1bca16407b312a">00553</a>   <span class="keywordtype">bool</span> defined()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> defined_; }
<a name="l00554"></a><a class="code" href="structoperations__research_1_1Option.html#b6bf6cd1c60d1eae71b060de2b25b817">00554</a>   <span class="keyword">const</span> Val&amp; value(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> value_; }
<a name="l00555"></a>00555 
<a name="l00556"></a><a class="code" href="structoperations__research_1_1Option.html#d44436f42c784451b6feffba34bbeb97">00556</a>   <span class="keyword">static</span> <a class="code" href="structoperations__research_1_1Option.html" title="Optional value.">Option&lt;Val&gt;</a> none(<span class="keywordtype">void</span>) {
<a name="l00557"></a>00557     <a class="code" href="structoperations__research_1_1Option.html" title="Optional value.">Option&lt;Val&gt;</a> o;
<a name="l00558"></a>00558     o.<a class="code" href="structoperations__research_1_1Option.html#d4402edfef992d91c1a686767420ccf6">defined_</a> = <span class="keyword">false</span>;
<a name="l00559"></a>00559     <span class="keyword">new</span> (&amp;o.<a class="code" href="structoperations__research_1_1Option.html#fc277c7cea3d3ab55155b152e0af9c48">value_</a>) Val();
<a name="l00560"></a>00560     <span class="keywordflow">return</span> o;
<a name="l00561"></a>00561   }
<a name="l00562"></a>00562 
<a name="l00563"></a><a class="code" href="structoperations__research_1_1Option.html#a95eaf8f4486ca13d8f8fb682dccc9b7">00563</a>   <span class="keyword">static</span> <a class="code" href="structoperations__research_1_1Option.html" title="Optional value.">Option&lt;Val&gt;</a> some(<span class="keyword">const</span> Val&amp; v) {
<a name="l00564"></a>00564     <a class="code" href="structoperations__research_1_1Option.html" title="Optional value.">Option&lt;Val&gt;</a> o;
<a name="l00565"></a>00565     o.<a class="code" href="structoperations__research_1_1Option.html#d4402edfef992d91c1a686767420ccf6">defined_</a> = <span class="keyword">true</span>;
<a name="l00566"></a>00566     o.<a class="code" href="structoperations__research_1_1Option.html#fc277c7cea3d3ab55155b152e0af9c48">value_</a> = v;
<a name="l00567"></a>00567     <span class="keywordflow">return</span> o;
<a name="l00568"></a>00568   }
<a name="l00569"></a>00569 };
<a name="l00570"></a>00570 <span class="comment"></span>
<a name="l00571"></a>00571 <span class="comment">/// Base class for variable specifications</span>
<a name="l00572"></a><a class="code" href="classoperations__research_1_1VarSpec.html">00572</a> <span class="comment"></span><span class="keyword">class </span><a class="code" href="classoperations__research_1_1VarSpec.html" title="Base class for variable specifications.">VarSpec</a> {
<a name="l00573"></a>00573  <span class="keyword">public</span>:<span class="comment"></span>
<a name="l00574"></a>00574 <span class="comment">  /// Whether the variable was introduced in the mzn2fzn translation</span>
<a name="l00575"></a><a class="code" href="classoperations__research_1_1VarSpec.html#82edb5cf8c426584eeb01ab6da9206d1">00575</a> <span class="comment"></span>  <span class="keyword">const</span> <span class="keywordtype">bool</span> introduced;<span class="comment"></span>
<a name="l00576"></a>00576 <span class="comment">  /// Destructor</span>
<a name="l00577"></a><a class="code" href="classoperations__research_1_1VarSpec.html#f72adad423b4989f1f3c4c1423d1e02d">00577</a> <span class="comment"></span>  <span class="keyword">virtual</span> ~<a class="code" href="classoperations__research_1_1VarSpec.html" title="Base class for variable specifications.">VarSpec</a>(<span class="keywordtype">void</span>) {}<span class="comment"></span>
<a name="l00578"></a>00578 <span class="comment">  /// Variable index</span>
<a name="l00579"></a><a class="code" href="classoperations__research_1_1VarSpec.html#a0e015c6620a90b2f46a405dacdf7a20">00579</a> <span class="comment"></span>  <span class="keywordtype">int</span> i;<span class="comment"></span>
<a name="l00580"></a>00580 <span class="comment">  /// Whether the variable aliases another variable</span>
<a name="l00581"></a><a class="code" href="classoperations__research_1_1VarSpec.html#2981dccb73c085ac5569937849df3775">00581</a> <span class="comment"></span>  <span class="keyword">const</span> <span class="keywordtype">bool</span> alias;<span class="comment"></span>
<a name="l00582"></a>00582 <span class="comment">  /// Whether the variable is assigned</span>
<a name="l00583"></a><a class="code" href="classoperations__research_1_1VarSpec.html#b06a367ab2828d25ac2a4f1fa0f96f13">00583</a> <span class="comment"></span>  <span class="keywordtype">bool</span> assigned;
<a name="l00584"></a>00584   <span class="comment">// name</span>
<a name="l00585"></a><a class="code" href="classoperations__research_1_1VarSpec.html#a1202dd2ceb74b50ef93eb6407e67b39">00585</a>   <span class="keywordtype">string</span> name;<span class="comment"></span>
<a name="l00586"></a>00586 <span class="comment">  /// Constructor</span>
<a name="l00587"></a><a class="code" href="classoperations__research_1_1VarSpec.html#4a78a97c5be8521a3d029b6f609752b2">00587</a> <span class="comment"></span>  <a class="code" href="classoperations__research_1_1VarSpec.html" title="Base class for variable specifications.">VarSpec</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; name0, <span class="keywordtype">bool</span> introduced0, <span class="keywordtype">bool</span> alias0, <span class="keywordtype">bool</span> assigned0)
<a name="l00588"></a>00588       : name(name0),
<a name="l00589"></a>00589         introduced(introduced0),
<a name="l00590"></a>00590         alias(alias0),
<a name="l00591"></a>00591         assigned(assigned0) {}
<a name="l00592"></a>00592   <span class="comment">// Debug string.</span>
<a name="l00593"></a><a class="code" href="classoperations__research_1_1VarSpec.html#77b6805d107f50171f666e14b5937586">00593</a>   <span class="keyword">virtual</span> <span class="keywordtype">string</span> <a class="code" href="classoperations__research_1_1AstNode.html#6e981e3dac0a576beecf101e5d89a806" title="Output string representation.">DebugString</a>()<span class="keyword"> const </span>{
<a name="l00594"></a>00594     <span class="keywordflow">return</span> <span class="stringliteral">"VarSpec"</span>;
<a name="l00595"></a>00595   }
<a name="l00596"></a><a class="code" href="classoperations__research_1_1VarSpec.html#e0f74b9c218fa769f954a28198ccf556">00596</a>   <span class="keywordtype">void</span> SetName(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; n) {
<a name="l00597"></a>00597     name = n;
<a name="l00598"></a>00598   }
<a name="l00599"></a><a class="code" href="classoperations__research_1_1VarSpec.html#b91f65575f27edb31ad11550656fb681">00599</a>   <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; Name()<span class="keyword"> const </span>{
<a name="l00600"></a>00600     <span class="keywordflow">return</span> name;
<a name="l00601"></a>00601   }
<a name="l00602"></a>00602 };
<a name="l00603"></a>00603 <span class="comment"></span>
<a name="l00604"></a>00604 <span class="comment">/// Specification for integer variables</span>
<a name="l00605"></a><a class="code" href="classoperations__research_1_1IntVarSpec.html">00605</a> <span class="comment"></span><span class="keyword">class </span><a class="code" href="classoperations__research_1_1IntVarSpec.html" title="Specification for integer variables.">IntVarSpec</a> : <span class="keyword">public</span> <a class="code" href="classoperations__research_1_1VarSpec.html" title="Base class for variable specifications.">VarSpec</a> {
<a name="l00606"></a>00606  <span class="keyword">public</span>:
<a name="l00607"></a><a class="code" href="classoperations__research_1_1IntVarSpec.html#ec56fe0b78d208035a4c727c305a11be">00607</a>   <a class="code" href="classoperations__research_1_1IntVarSpec.html" title="Specification for integer variables.">IntVarSpec</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; name,
<a name="l00608"></a>00608              <span class="keyword">const</span> <a class="code" href="structoperations__research_1_1Option.html" title="Optional value.">Option&lt;AstSetLit*&gt;</a>&amp; d,
<a name="l00609"></a>00609              <span class="keywordtype">bool</span> introduced,
<a name="l00610"></a>00610              <span class="keywordtype">bool</span> own_domain)
<a name="l00611"></a>00611       : <a class="code" href="classoperations__research_1_1VarSpec.html" title="Base class for variable specifications.">VarSpec</a>(name, introduced, false, false),
<a name="l00612"></a>00612         own_domain_(own_domain) {
<a name="l00613"></a>00613     i = -1;
<a name="l00614"></a>00614     domain_ = d;
<a name="l00615"></a>00615   }
<a name="l00616"></a>00616 
<a name="l00617"></a><a class="code" href="classoperations__research_1_1IntVarSpec.html#71b4345cce58f710767773b63fa09f66">00617</a>   <a class="code" href="classoperations__research_1_1IntVarSpec.html" title="Specification for integer variables.">IntVarSpec</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; name, <span class="keywordtype">int</span> i0, <span class="keywordtype">bool</span> introduced)
<a name="l00618"></a>00618       : <a class="code" href="classoperations__research_1_1VarSpec.html" title="Base class for variable specifications.">VarSpec</a>(name, introduced, false, true),
<a name="l00619"></a>00619         own_domain_(false),
<a name="l00620"></a>00620         domain_(<a class="code" href="structoperations__research_1_1Option.html" title="Optional value.">Option</a>&lt;<a class="code" href="classoperations__research_1_1AstSetLit.html" title="Set literal node">AstSetLit</a>*&gt;::none()) {
<a name="l00621"></a>00621     i = i0;
<a name="l00622"></a>00622   }
<a name="l00623"></a>00623 
<a name="l00624"></a><a class="code" href="classoperations__research_1_1IntVarSpec.html#e318ad1abb0bce0ec4edb33d929d457c">00624</a>   <a class="code" href="classoperations__research_1_1IntVarSpec.html" title="Specification for integer variables.">IntVarSpec</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; name, <span class="keyword">const</span> <a class="code" href="classoperations__research_1_1Alias.html" title="Alias for a variable specification">Alias</a>&amp; eq, <span class="keywordtype">bool</span> introduced)
<a name="l00625"></a>00625       : <a class="code" href="classoperations__research_1_1VarSpec.html" title="Base class for variable specifications.">VarSpec</a>(name, introduced, true, false),
<a name="l00626"></a>00626         own_domain_(false),
<a name="l00627"></a>00627         domain_(<a class="code" href="structoperations__research_1_1Option.html" title="Optional value.">Option</a>&lt;<a class="code" href="classoperations__research_1_1AstSetLit.html" title="Set literal node">AstSetLit</a>*&gt;::none()) {
<a name="l00628"></a>00628     i = eq.<a class="code" href="classoperations__research_1_1Alias.html#97b65fa163698b0f2560e202f69092c2">v</a>;
<a name="l00629"></a>00629   }
<a name="l00630"></a>00630 
<a name="l00631"></a><a class="code" href="classoperations__research_1_1IntVarSpec.html#24da5a58237a08ee3ca4e9bc6d1d1e98">00631</a>   <span class="keyword">virtual</span> ~<a class="code" href="classoperations__research_1_1IntVarSpec.html" title="Specification for integer variables.">IntVarSpec</a>(<span class="keywordtype">void</span>) {
<a name="l00632"></a>00632     <span class="keywordflow">if</span> (!alias &amp;&amp; !assigned &amp;&amp; domain_.defined() &amp;&amp; own_domain_)
<a name="l00633"></a>00633       <span class="keyword">delete</span> domain_.value();
<a name="l00634"></a>00634   }
<a name="l00635"></a>00635 
<a name="l00636"></a><a class="code" href="classoperations__research_1_1IntVarSpec.html#bc198689ce6cfce6064cf8a764e2cc83">00636</a>   <span class="keywordtype">bool</span> MergeBounds(int64 nmin, int64 nmax) {
<a name="l00637"></a>00637     CHECK(!alias);
<a name="l00638"></a>00638     <span class="keywordflow">if</span> (assigned) {
<a name="l00639"></a>00639       <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00640"></a>00640     }
<a name="l00641"></a>00641     <span class="keywordflow">if</span> (!domain_.defined()) {
<a name="l00642"></a>00642       domain_ =  <a class="code" href="structoperations__research_1_1Option.html" title="Optional value.">Option&lt;AstSetLit*&gt;::some</a>(<span class="keyword">new</span> <a class="code" href="classoperations__research_1_1AstSetLit.html" title="Set literal node">AstSetLit</a>(nmin, nmax));
<a name="l00643"></a>00643       own_domain_ = <span class="keyword">true</span>;
<a name="l00644"></a>00644       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00645"></a>00645     }
<a name="l00646"></a>00646     <span class="keywordflow">if</span> (!own_domain_) {
<a name="l00647"></a>00647       <a class="code" href="classoperations__research_1_1AstSetLit.html" title="Set literal node">AstSetLit</a>* <span class="keyword">const</span> domain = domain_.value();
<a name="l00648"></a>00648       <span class="keywordflow">if</span> (domain-&gt;<a class="code" href="classoperations__research_1_1AstSetLit.html#b1f3e7a964661a8cdc95e4da9f38d033">interval</a> &amp;&amp; domain-&gt;<a class="code" href="classoperations__research_1_1AstSetLit.html#cc6211973a92c4711637c205c1aaacae">imin</a> &gt;= nmin &amp;&amp; domain-&gt;<a class="code" href="classoperations__research_1_1AstSetLit.html#7065f4f6a852778871d4a30cf478376a">imax</a> &lt;= nmax) {
<a name="l00649"></a>00649         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00650"></a>00650       }
<a name="l00651"></a>00651       <span class="keywordflow">return</span> <span class="keyword">false</span>;  <span class="comment">// IMPROVE ME.</span>
<a name="l00652"></a>00652     }
<a name="l00653"></a>00653     <a class="code" href="classoperations__research_1_1AstSetLit.html" title="Set literal node">AstSetLit</a>* <span class="keyword">const</span> domain = domain_.value();
<a name="l00654"></a>00654     <span class="keywordflow">if</span> (domain-&gt;<a class="code" href="classoperations__research_1_1AstSetLit.html#b1f3e7a964661a8cdc95e4da9f38d033">interval</a>) {
<a name="l00655"></a>00655       domain-&gt;<a class="code" href="classoperations__research_1_1AstSetLit.html#cc6211973a92c4711637c205c1aaacae">imin</a> = std::max(domain-&gt;<a class="code" href="classoperations__research_1_1AstSetLit.html#cc6211973a92c4711637c205c1aaacae">imin</a>, nmin);
<a name="l00656"></a>00656       domain-&gt;<a class="code" href="classoperations__research_1_1AstSetLit.html#7065f4f6a852778871d4a30cf478376a">imax</a> = std::min(domain-&gt;<a class="code" href="classoperations__research_1_1AstSetLit.html#7065f4f6a852778871d4a30cf478376a">imax</a>, nmax);
<a name="l00657"></a>00657       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00658"></a>00658     }
<a name="l00659"></a>00659     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00660"></a>00660   }
<a name="l00661"></a>00661 
<a name="l00662"></a><a class="code" href="classoperations__research_1_1IntVarSpec.html#b01f83ee7120986e79fb38d8e1581561">00662</a>   <span class="keywordtype">bool</span> RemoveValue(int64 val) {
<a name="l00663"></a>00663     CHECK(!alias);
<a name="l00664"></a>00664     <span class="keywordflow">if</span> (assigned) {
<a name="l00665"></a>00665       <span class="keywordflow">return</span> val != i;
<a name="l00666"></a>00666     }
<a name="l00667"></a>00667     <span class="keywordflow">if</span> (!domain_.defined()) {
<a name="l00668"></a>00668       <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00669"></a>00669     }
<a name="l00670"></a>00670     <span class="keywordflow">if</span> (!own_domain_) {
<a name="l00671"></a>00671       <span class="keywordflow">return</span> <span class="keyword">false</span>;  <span class="comment">// IMPROVE ME.</span>
<a name="l00672"></a>00672     }
<a name="l00673"></a>00673     <a class="code" href="classoperations__research_1_1AstSetLit.html" title="Set literal node">AstSetLit</a>* <span class="keyword">const</span> domain = domain_.value();
<a name="l00674"></a>00674     <span class="keywordflow">if</span> (domain-&gt;<a class="code" href="classoperations__research_1_1AstSetLit.html#b1f3e7a964661a8cdc95e4da9f38d033">interval</a>) {
<a name="l00675"></a>00675       <span class="keywordflow">if</span> (domain-&gt;<a class="code" href="classoperations__research_1_1AstSetLit.html#cc6211973a92c4711637c205c1aaacae">imin</a> == val) {
<a name="l00676"></a>00676         domain-&gt;<a class="code" href="classoperations__research_1_1AstSetLit.html#cc6211973a92c4711637c205c1aaacae">imin</a>++;
<a name="l00677"></a>00677         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00678"></a>00678       } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (domain-&gt;<a class="code" href="classoperations__research_1_1AstSetLit.html#7065f4f6a852778871d4a30cf478376a">imax</a> == val) {
<a name="l00679"></a>00679         domain-&gt;<a class="code" href="classoperations__research_1_1AstSetLit.html#7065f4f6a852778871d4a30cf478376a">imax</a>--;
<a name="l00680"></a>00680         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00681"></a>00681       } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (val &lt; domain-&gt;imin || val &gt; domain-&gt;<a class="code" href="classoperations__research_1_1AstSetLit.html#7065f4f6a852778871d4a30cf478376a">imax</a>) {
<a name="l00682"></a>00682         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00683"></a>00683       }
<a name="l00684"></a>00684     }
<a name="l00685"></a>00685     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00686"></a>00686   }
<a name="l00687"></a>00687 
<a name="l00688"></a><a class="code" href="classoperations__research_1_1IntVarSpec.html#3b4759070090f40582ab5151bda35662">00688</a>   <span class="keywordtype">bool</span> MergeDomain(<span class="keyword">const</span> std::vector&lt;int64&gt;&amp; values) {
<a name="l00689"></a>00689     CHECK(!alias);
<a name="l00690"></a>00690     <span class="keywordflow">if</span> (assigned) {
<a name="l00691"></a>00691       <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00692"></a>00692     }
<a name="l00693"></a>00693     <span class="keywordflow">if</span> (!domain_.defined()) {
<a name="l00694"></a>00694       domain_ =  <a class="code" href="structoperations__research_1_1Option.html" title="Optional value.">Option&lt;AstSetLit*&gt;::some</a>(<span class="keyword">new</span> <a class="code" href="classoperations__research_1_1AstSetLit.html" title="Set literal node">AstSetLit</a>(values));
<a name="l00695"></a>00695       own_domain_ = <span class="keyword">true</span>;
<a name="l00696"></a>00696       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00697"></a>00697     }
<a name="l00698"></a>00698     <span class="keywordflow">if</span> (!own_domain_) {
<a name="l00699"></a>00699       <span class="keywordflow">return</span> <span class="keyword">false</span>;  <span class="comment">// IMPROVE ME.</span>
<a name="l00700"></a>00700     }
<a name="l00701"></a>00701     <a class="code" href="classoperations__research_1_1AstSetLit.html" title="Set literal node">AstSetLit</a>* <span class="keyword">const</span> domain = domain_.value();
<a name="l00702"></a>00702     <span class="keywordflow">if</span> (domain-&gt;<a class="code" href="classoperations__research_1_1AstSetLit.html#b1f3e7a964661a8cdc95e4da9f38d033">interval</a>) {
<a name="l00703"></a>00703       <span class="keyword">const</span> int64 old_min = domain-&gt;<a class="code" href="classoperations__research_1_1AstSetLit.html#cc6211973a92c4711637c205c1aaacae">imin</a>;
<a name="l00704"></a>00704       <span class="keyword">const</span> int64 old_max = domain-&gt;<a class="code" href="classoperations__research_1_1AstSetLit.html#7065f4f6a852778871d4a30cf478376a">imax</a>;
<a name="l00705"></a>00705       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; values.size(); ++i) {
<a name="l00706"></a>00706         <span class="keyword">const</span> int64 v = values[i];
<a name="l00707"></a>00707         <span class="keywordflow">if</span> (v &gt;= old_min &amp;&amp; v &lt;= old_max) {
<a name="l00708"></a>00708           domain-&gt;<a class="code" href="classoperations__research_1_1AstSetLit.html#70658e37c7d9deb940af34cdd5f84add">s</a>.push_back(v);
<a name="l00709"></a>00709         }
<a name="l00710"></a>00710       }
<a name="l00711"></a>00711       domain-&gt;<a class="code" href="classoperations__research_1_1AstSetLit.html#b1f3e7a964661a8cdc95e4da9f38d033">interval</a> = <span class="keyword">false</span>;
<a name="l00712"></a>00712       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00713"></a>00713     }
<a name="l00714"></a>00714     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00715"></a>00715   }
<a name="l00716"></a>00716 
<a name="l00717"></a><a class="code" href="classoperations__research_1_1IntVarSpec.html#b72f6170ccc378c5c6952da54bcae3c1">00717</a>   <span class="keywordtype">bool</span> IsBound()<span class="keyword"> const </span>{
<a name="l00718"></a>00718     <span class="keywordflow">return</span> assigned || (domain_.defined() &amp;&amp;
<a name="l00719"></a>00719                         domain_.value()-&gt;imin == domain_.value()-&gt;imax);
<a name="l00720"></a>00720   }
<a name="l00721"></a>00721 
<a name="l00722"></a><a class="code" href="classoperations__research_1_1IntVarSpec.html#3793987964c9f61ccfb6b1934ee137b1">00722</a>   <span class="keywordtype">int</span> GetBound()<span class="keyword"> const </span>{
<a name="l00723"></a>00723     CHECK(IsBound());
<a name="l00724"></a>00724     <span class="keywordflow">if</span> (assigned) {
<a name="l00725"></a>00725       <span class="keywordflow">return</span> i;
<a name="l00726"></a>00726     }
<a name="l00727"></a>00727     <span class="keywordflow">return</span> domain_.value()-&gt;imin;
<a name="l00728"></a>00728   }
<a name="l00729"></a>00729 
<a name="l00730"></a><a class="code" href="classoperations__research_1_1IntVarSpec.html#4e68922982dee687ca5b05a388bf6102">00730</a>   <span class="keyword">virtual</span> <span class="keywordtype">string</span> <a class="code" href="classoperations__research_1_1AstNode.html#6e981e3dac0a576beecf101e5d89a806" title="Output string representation.">DebugString</a>()<span class="keyword"> const </span>{
<a name="l00731"></a>00731     <span class="keywordflow">if</span> (alias) {
<a name="l00732"></a>00732       <span class="keywordflow">return</span> StringPrintf(
<a name="l00733"></a>00733           <span class="stringliteral">"IntVarSpec(name = %s, alias to = %d)"</span>,
<a name="l00734"></a>00734           name.c_str(),
<a name="l00735"></a>00735           i);
<a name="l00736"></a>00736     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (assigned) {
<a name="l00737"></a>00737       <span class="keywordflow">return</span> StringPrintf(
<a name="l00738"></a>00738           <span class="stringliteral">"IntVarSpec(name = %s, assigned to = %d)"</span>,
<a name="l00739"></a>00739           name.c_str(),
<a name="l00740"></a>00740           i);
<a name="l00741"></a>00741     } <span class="keywordflow">else</span> {
<a name="l00742"></a>00742       <span class="keywordflow">return</span> StringPrintf(
<a name="l00743"></a>00743           <span class="stringliteral">"IntVarSpec(name = %s, id = %d, domain = %s%s)"</span>,
<a name="l00744"></a>00744           name.c_str(),
<a name="l00745"></a>00745           i,
<a name="l00746"></a>00746           (domain_.defined() ?
<a name="l00747"></a>00747            domain_.value()-&gt;DebugString().c_str() :
<a name="l00748"></a>00748            <span class="stringliteral">"no domain"</span>),
<a name="l00749"></a>00749           (introduced ? <span class="stringliteral">", introduced"</span> : <span class="stringliteral">""</span>));
<a name="l00750"></a>00750     }
<a name="l00751"></a>00751   }
<a name="l00752"></a>00752 
<a name="l00753"></a><a class="code" href="classoperations__research_1_1IntVarSpec.html#3705ca0502c05cd6340a66f28c7cb8d5">00753</a>   <a class="code" href="classoperations__research_1_1AstSetLit.html" title="Set literal node">AstSetLit</a>* Domain()<span class="keyword"> const </span>{
<a name="l00754"></a>00754     <span class="keywordflow">return</span> domain_.value();
<a name="l00755"></a>00755   }
<a name="l00756"></a>00756 
<a name="l00757"></a><a class="code" href="classoperations__research_1_1IntVarSpec.html#33efa9eb05364d1d968a42a119b64b65">00757</a>   <span class="keywordtype">bool</span> HasDomain()<span class="keyword"> const </span>{
<a name="l00758"></a>00758     <span class="keywordflow">return</span> domain_.defined() &amp;&amp; domain_.value() != NULL;
<a name="l00759"></a>00759   }
<a name="l00760"></a>00760 
<a name="l00761"></a>00761  <span class="keyword">private</span>:
<a name="l00762"></a>00762   <a class="code" href="structoperations__research_1_1Option.html" title="Optional value.">Option&lt;AstSetLit*&gt;</a> domain_;
<a name="l00763"></a>00763   <span class="keywordtype">bool</span> own_domain_;
<a name="l00764"></a>00764 };
<a name="l00765"></a>00765 <span class="comment"></span>
<a name="l00766"></a>00766 <span class="comment">/// Specification for Boolean variables</span>
<a name="l00767"></a><a class="code" href="classoperations__research_1_1BoolVarSpec.html">00767</a> <span class="comment"></span><span class="keyword">class </span><a class="code" href="classoperations__research_1_1BoolVarSpec.html" title="Specification for Boolean variables.">BoolVarSpec</a> : <span class="keyword">public</span> <a class="code" href="classoperations__research_1_1VarSpec.html" title="Base class for variable specifications.">VarSpec</a> {
<a name="l00768"></a>00768  <span class="keyword">public</span>:
<a name="l00769"></a><a class="code" href="classoperations__research_1_1BoolVarSpec.html#263bf290110de0eac71c9076c9d88f9d">00769</a>   <a class="code" href="classoperations__research_1_1BoolVarSpec.html" title="Specification for Boolean variables.">BoolVarSpec</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; name,
<a name="l00770"></a>00770               <span class="keyword">const</span> <a class="code" href="structoperations__research_1_1Option.html" title="Optional value.">Option&lt;AstSetLit*&gt;</a>&amp; d,
<a name="l00771"></a>00771               <span class="keywordtype">bool</span> introduced,
<a name="l00772"></a>00772               <span class="keywordtype">bool</span> own_domain)
<a name="l00773"></a>00773       : <a class="code" href="classoperations__research_1_1VarSpec.html" title="Base class for variable specifications.">VarSpec</a>(name, introduced, false, false), own_domain_(own_domain) {
<a name="l00774"></a>00774     i = -1;
<a name="l00775"></a>00775     domain_ = d;
<a name="l00776"></a>00776   }
<a name="l00777"></a>00777 
<a name="l00778"></a><a class="code" href="classoperations__research_1_1BoolVarSpec.html#a27ea6edc5b5ab4f5d6f440bad32b513">00778</a>   <a class="code" href="classoperations__research_1_1BoolVarSpec.html" title="Specification for Boolean variables.">BoolVarSpec</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; name, <span class="keywordtype">bool</span> b, <span class="keywordtype">bool</span> introduced)
<a name="l00779"></a>00779       : <a class="code" href="classoperations__research_1_1VarSpec.html" title="Base class for variable specifications.">VarSpec</a>(name, introduced, false, true), own_domain_(false)  {
<a name="l00780"></a>00780     i = b;
<a name="l00781"></a>00781   }
<a name="l00782"></a>00782 
<a name="l00783"></a><a class="code" href="classoperations__research_1_1BoolVarSpec.html#f42f4def5701912ab43f2d23273a0aad">00783</a>   <a class="code" href="classoperations__research_1_1BoolVarSpec.html" title="Specification for Boolean variables.">BoolVarSpec</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; name, <span class="keyword">const</span> <a class="code" href="classoperations__research_1_1Alias.html" title="Alias for a variable specification">Alias</a>&amp; eq, <span class="keywordtype">bool</span> introduced)
<a name="l00784"></a>00784       : <a class="code" href="classoperations__research_1_1VarSpec.html" title="Base class for variable specifications.">VarSpec</a>(name, introduced, true, false), own_domain_(false) {
<a name="l00785"></a>00785     i = eq.<a class="code" href="classoperations__research_1_1Alias.html#97b65fa163698b0f2560e202f69092c2">v</a>;
<a name="l00786"></a>00786   }
<a name="l00787"></a>00787 
<a name="l00788"></a><a class="code" href="classoperations__research_1_1BoolVarSpec.html#4a12e62ebbabe8fede03d7708f1179fc">00788</a>   ~<a class="code" href="classoperations__research_1_1BoolVarSpec.html" title="Specification for Boolean variables.">BoolVarSpec</a>() {
<a name="l00789"></a>00789     <span class="keywordflow">if</span> (!alias &amp;&amp; !assigned &amp;&amp; domain_.defined() &amp;&amp; own_domain_)
<a name="l00790"></a>00790       <span class="keyword">delete</span> domain_.value();
<a name="l00791"></a>00791   }
<a name="l00792"></a>00792 
<a name="l00793"></a><a class="code" href="classoperations__research_1_1BoolVarSpec.html#9e6e72be701bd592c0a18aac2888ddd2">00793</a>   <span class="keywordtype">void</span> Assign(<span class="keywordtype">bool</span> value) {
<a name="l00794"></a>00794     assigned = <span class="keyword">true</span>;
<a name="l00795"></a>00795     i = value;
<a name="l00796"></a>00796   }
<a name="l00797"></a>00797 
<a name="l00798"></a><a class="code" href="classoperations__research_1_1BoolVarSpec.html#1fd8de30e55bcd37fbdfc6cd037ceb09">00798</a>   <span class="keywordtype">bool</span> IsTrue()<span class="keyword"> const </span>{
<a name="l00799"></a>00799     <span class="keywordflow">return</span> (assigned &amp;&amp; i == 1);
<a name="l00800"></a>00800   }
<a name="l00801"></a>00801 
<a name="l00802"></a><a class="code" href="classoperations__research_1_1BoolVarSpec.html#2a3344ccd251fbd0a7b54c780664845c">00802</a>   <span class="keywordtype">bool</span> IsFalse()<span class="keyword"> const </span>{
<a name="l00803"></a>00803     <span class="keywordflow">return</span> (assigned &amp;&amp; i == 0);
<a name="l00804"></a>00804   }
<a name="l00805"></a>00805 
<a name="l00806"></a><a class="code" href="classoperations__research_1_1BoolVarSpec.html#2f186df7d7d5c5c1b48b76cd84fe4d41">00806</a>   <span class="keywordtype">bool</span> IsBound()<span class="keyword"> const </span>{
<a name="l00807"></a>00807     <span class="keywordflow">return</span> IsTrue() || IsFalse();
<a name="l00808"></a>00808   }
<a name="l00809"></a>00809 
<a name="l00810"></a><a class="code" href="classoperations__research_1_1BoolVarSpec.html#2ad4d281ffb32a755f0929d2e6b858e9">00810</a>   <span class="keywordtype">int</span> GetBound()<span class="keyword"> const </span>{
<a name="l00811"></a>00811     CHECK(IsBound());
<a name="l00812"></a>00812     <span class="keywordflow">return</span> IsTrue();
<a name="l00813"></a>00813   }
<a name="l00814"></a>00814 
<a name="l00815"></a><a class="code" href="classoperations__research_1_1BoolVarSpec.html#7fb4f8af96eda2c3407ad5145907ee3d">00815</a>   <span class="keyword">virtual</span> <span class="keywordtype">string</span> <a class="code" href="classoperations__research_1_1AstNode.html#6e981e3dac0a576beecf101e5d89a806" title="Output string representation.">DebugString</a>()<span class="keyword"> const </span>{
<a name="l00816"></a>00816     <span class="keywordflow">if</span> (alias) {
<a name="l00817"></a>00817       <span class="keywordflow">return</span> StringPrintf(
<a name="l00818"></a>00818           <span class="stringliteral">"BoolVarSpec(name = %s, alias to = %d)"</span>,
<a name="l00819"></a>00819           name.c_str(),
<a name="l00820"></a>00820           i);
<a name="l00821"></a>00821     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (assigned) {
<a name="l00822"></a>00822       <span class="keywordflow">return</span> StringPrintf(
<a name="l00823"></a>00823           <span class="stringliteral">"BoolVarSpec(name = %s, assigned to = %d)"</span>,
<a name="l00824"></a>00824           name.c_str(),
<a name="l00825"></a>00825           i);
<a name="l00826"></a>00826     } <span class="keywordflow">else</span> {
<a name="l00827"></a>00827       <span class="keywordflow">return</span> StringPrintf(
<a name="l00828"></a>00828           <span class="stringliteral">"BoolVarSpec(name = %s, id = %d, domain = %s)"</span>,
<a name="l00829"></a>00829           name.c_str(),
<a name="l00830"></a>00830           i,
<a name="l00831"></a>00831           (domain_.defined() ?
<a name="l00832"></a>00832            domain_.value()-&gt;DebugString().c_str() :
<a name="l00833"></a>00833            <span class="stringliteral">"no domain"</span>));
<a name="l00834"></a>00834     }
<a name="l00835"></a>00835   }
<a name="l00836"></a>00836 
<a name="l00837"></a>00837  <span class="keyword">private</span>:
<a name="l00838"></a>00838   <a class="code" href="structoperations__research_1_1Option.html" title="Optional value.">Option&lt;AstSetLit*&gt;</a> domain_;
<a name="l00839"></a>00839   <span class="keyword">const</span> <span class="keywordtype">bool</span> own_domain_;
<a name="l00840"></a>00840 };
<a name="l00841"></a>00841 <span class="comment"></span>
<a name="l00842"></a>00842 <span class="comment">/// Specification for floating point variables</span>
<a name="l00843"></a><a class="code" href="classoperations__research_1_1FloatVarSpec.html">00843</a> <span class="comment"></span><span class="keyword">class </span><a class="code" href="classoperations__research_1_1FloatVarSpec.html" title="Specification for floating point variables.">FloatVarSpec</a> : <span class="keyword">public</span> <a class="code" href="classoperations__research_1_1VarSpec.html" title="Base class for variable specifications.">VarSpec</a> {
<a name="l00844"></a>00844  <span class="keyword">public</span>:
<a name="l00845"></a><a class="code" href="classoperations__research_1_1FloatVarSpec.html#4c6497e4548b89d8f1561a64ed8e78f4">00845</a>   <a class="code" href="structoperations__research_1_1Option.html" title="Optional value.">Option&lt;std::vector&lt;double&gt;</a>*&gt; domain;
<a name="l00846"></a><a class="code" href="classoperations__research_1_1FloatVarSpec.html#2bd45ecf7827ca322a4c9f89cabcfeec">00846</a>   <a class="code" href="classoperations__research_1_1FloatVarSpec.html" title="Specification for floating point variables.">FloatVarSpec</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; name,
<a name="l00847"></a>00847                <a class="code" href="structoperations__research_1_1Option.html" title="Optional value.">Option</a>&lt;std::vector&lt;double&gt;*&gt;&amp; d,
<a name="l00848"></a>00848                <span class="keywordtype">bool</span> introduced)
<a name="l00849"></a>00849       : <a class="code" href="classoperations__research_1_1VarSpec.html" title="Base class for variable specifications.">VarSpec</a>(name, introduced, false, false) {
<a name="l00850"></a>00850     domain = d;
<a name="l00851"></a>00851   }
<a name="l00852"></a>00852 
<a name="l00853"></a><a class="code" href="classoperations__research_1_1FloatVarSpec.html#4b670312ee93095be6af2483af9f1e15">00853</a>   <a class="code" href="classoperations__research_1_1FloatVarSpec.html" title="Specification for floating point variables.">FloatVarSpec</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; name, <span class="keywordtype">bool</span> b, <span class="keywordtype">bool</span> introduced)
<a name="l00854"></a>00854       : <a class="code" href="classoperations__research_1_1VarSpec.html" title="Base class for variable specifications.">VarSpec</a>(name, introduced, false, true) {
<a name="l00855"></a>00855     i = b;
<a name="l00856"></a>00856   }
<a name="l00857"></a>00857 
<a name="l00858"></a><a class="code" href="classoperations__research_1_1FloatVarSpec.html#4c8917fee89a79232583a240198f2dc5">00858</a>   <a class="code" href="classoperations__research_1_1FloatVarSpec.html" title="Specification for floating point variables.">FloatVarSpec</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; name, <span class="keyword">const</span> <a class="code" href="classoperations__research_1_1Alias.html" title="Alias for a variable specification">Alias</a>&amp; eq, <span class="keywordtype">bool</span> introduced)
<a name="l00859"></a>00859       : <a class="code" href="classoperations__research_1_1VarSpec.html" title="Base class for variable specifications.">VarSpec</a>(name, introduced, true, false) {
<a name="l00860"></a>00860     i = eq.<a class="code" href="classoperations__research_1_1Alias.html#97b65fa163698b0f2560e202f69092c2">v</a>;
<a name="l00861"></a>00861   }
<a name="l00862"></a>00862 
<a name="l00863"></a><a class="code" href="classoperations__research_1_1FloatVarSpec.html#dd3c693359a6716fb703054299bd1adb">00863</a>   ~<a class="code" href="classoperations__research_1_1FloatVarSpec.html" title="Specification for floating point variables.">FloatVarSpec</a>(<span class="keywordtype">void</span>) {
<a name="l00864"></a>00864     <span class="keywordflow">if</span> (!alias &amp;&amp; !assigned &amp;&amp; domain.defined())
<a name="l00865"></a>00865       <span class="keyword">delete</span> domain.value();
<a name="l00866"></a>00866   }
<a name="l00867"></a>00867 };
<a name="l00868"></a>00868 <span class="comment"></span>
<a name="l00869"></a>00869 <span class="comment">/// Specification for set variables</span>
<a name="l00870"></a><a class="code" href="classoperations__research_1_1SetVarSpec.html">00870</a> <span class="comment"></span><span class="keyword">class </span><a class="code" href="classoperations__research_1_1SetVarSpec.html" title="Specification for set variables.">SetVarSpec</a> : <span class="keyword">public</span> <a class="code" href="classoperations__research_1_1VarSpec.html" title="Base class for variable specifications.">VarSpec</a> {
<a name="l00871"></a>00871  <span class="keyword">public</span>:
<a name="l00872"></a><a class="code" href="classoperations__research_1_1SetVarSpec.html#f456c97256b0791f912fdf97032bd890">00872</a>   <a class="code" href="structoperations__research_1_1Option.html" title="Optional value.">Option&lt;AstSetLit*&gt;</a> domain_;
<a name="l00873"></a><a class="code" href="classoperations__research_1_1SetVarSpec.html#7c4f4fa1a8abefa30a3d7449f7bf8262">00873</a>   <a class="code" href="classoperations__research_1_1SetVarSpec.html" title="Specification for set variables.">SetVarSpec</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; name, <span class="keywordtype">bool</span> introduced)
<a name="l00874"></a>00874       : <a class="code" href="classoperations__research_1_1VarSpec.html" title="Base class for variable specifications.">VarSpec</a>(name, introduced, false, false),
<a name="l00875"></a>00875         own_domain_(false) {
<a name="l00876"></a>00876     domain_ = <a class="code" href="structoperations__research_1_1Option.html" title="Optional value.">Option&lt;AstSetLit*&gt;::none</a>();
<a name="l00877"></a>00877   }
<a name="l00878"></a><a class="code" href="classoperations__research_1_1SetVarSpec.html#2c46c53d0bcc9c9bc334706714946a4e">00878</a>   <a class="code" href="classoperations__research_1_1SetVarSpec.html" title="Specification for set variables.">SetVarSpec</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; name,
<a name="l00879"></a>00879              <span class="keyword">const</span> <a class="code" href="structoperations__research_1_1Option.html" title="Optional value.">Option&lt;AstSetLit*&gt;</a>&amp; v,
<a name="l00880"></a>00880              <span class="keywordtype">bool</span> introduced, <span class="keywordtype">bool</span> own_domain)
<a name="l00881"></a>00881       : <a class="code" href="classoperations__research_1_1VarSpec.html" title="Base class for variable specifications.">VarSpec</a>(name, introduced, false, false),
<a name="l00882"></a>00882         own_domain_(own_domain) {
<a name="l00883"></a>00883     domain_ = v;
<a name="l00884"></a>00884 
<a name="l00885"></a>00885   }
<a name="l00886"></a><a class="code" href="classoperations__research_1_1SetVarSpec.html#e75c9aeea2c3bfa08b39b3db2be7ef39">00886</a>   <a class="code" href="classoperations__research_1_1SetVarSpec.html" title="Specification for set variables.">SetVarSpec</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; name, <a class="code" href="classoperations__research_1_1AstSetLit.html" title="Set literal node">AstSetLit</a>* v, <span class="keywordtype">bool</span> introduced)
<a name="l00887"></a>00887       : <a class="code" href="classoperations__research_1_1VarSpec.html" title="Base class for variable specifications.">VarSpec</a>(name, introduced, false, true),
<a name="l00888"></a>00888         own_domain_(false) {
<a name="l00889"></a>00889     domain_ = <a class="code" href="structoperations__research_1_1Option.html" title="Optional value.">Option&lt;AstSetLit*&gt;::some</a>(v);
<a name="l00890"></a>00890   }
<a name="l00891"></a><a class="code" href="classoperations__research_1_1SetVarSpec.html#0049050a4d514a43a98e93a6b01e863b">00891</a>   <a class="code" href="classoperations__research_1_1SetVarSpec.html" title="Specification for set variables.">SetVarSpec</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; name, <span class="keyword">const</span> <a class="code" href="classoperations__research_1_1Alias.html" title="Alias for a variable specification">Alias</a>&amp; eq, <span class="keywordtype">bool</span> introduced)
<a name="l00892"></a>00892       : <a class="code" href="classoperations__research_1_1VarSpec.html" title="Base class for variable specifications.">VarSpec</a>(name, introduced, true, false),
<a name="l00893"></a>00893         own_domain_(false) {
<a name="l00894"></a>00894     i = eq.<a class="code" href="classoperations__research_1_1Alias.html#97b65fa163698b0f2560e202f69092c2">v</a>;
<a name="l00895"></a>00895   }
<a name="l00896"></a><a class="code" href="classoperations__research_1_1SetVarSpec.html#6f908848e06d3a7ecc8155de93222132">00896</a>   <span class="keyword">virtual</span> ~<a class="code" href="classoperations__research_1_1SetVarSpec.html" title="Specification for set variables.">SetVarSpec</a>(<span class="keywordtype">void</span>) {
<a name="l00897"></a>00897     <span class="keywordflow">if</span> (!alias &amp;&amp; domain_.defined() &amp;&amp; own_domain_)
<a name="l00898"></a>00898       <span class="keyword">delete</span> domain_.value();
<a name="l00899"></a>00899   }
<a name="l00900"></a>00900 
<a name="l00901"></a><a class="code" href="classoperations__research_1_1SetVarSpec.html#a8655ff094829e031c8702da90d27903">00901</a>   <span class="keyword">virtual</span> <span class="keywordtype">string</span> <a class="code" href="classoperations__research_1_1AstNode.html#6e981e3dac0a576beecf101e5d89a806" title="Output string representation.">DebugString</a>()<span class="keyword"> const </span>{
<a name="l00902"></a>00902     <span class="keywordflow">if</span> (alias) {
<a name="l00903"></a>00903       <span class="keywordflow">return</span> StringPrintf(
<a name="l00904"></a>00904           <span class="stringliteral">"SetVarSpec(name = %s, alias to = %d)"</span>,
<a name="l00905"></a>00905           name.c_str(),
<a name="l00906"></a>00906           i);
<a name="l00907"></a>00907     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (assigned) {
<a name="l00908"></a>00908       <span class="keywordflow">return</span> StringPrintf(
<a name="l00909"></a>00909           <span class="stringliteral">"SetVarSpec(name = %s, assigned to = %d)"</span>,
<a name="l00910"></a>00910           name.c_str(),
<a name="l00911"></a>00911           i);
<a name="l00912"></a>00912     } <span class="keywordflow">else</span> {
<a name="l00913"></a>00913       <span class="keywordflow">return</span> StringPrintf(
<a name="l00914"></a>00914           <span class="stringliteral">"SetVarSpec(name = %s, id = %d, domain = %s)"</span>,
<a name="l00915"></a>00915           name.c_str(),
<a name="l00916"></a>00916           i,
<a name="l00917"></a>00917           (domain_.defined() ?
<a name="l00918"></a>00918            domain_.value()-&gt;DebugString().c_str() :
<a name="l00919"></a>00919            <span class="stringliteral">"no domain"</span>));
<a name="l00920"></a>00920     }
<a name="l00921"></a>00921   }
<a name="l00922"></a>00922 
<a name="l00923"></a>00923 
<a name="l00924"></a>00924  <span class="keyword">private</span>:
<a name="l00925"></a>00925   <span class="keyword">const</span> <span class="keywordtype">bool</span> own_domain_;
<a name="l00926"></a>00926 };
<a name="l00927"></a>00927 
<a name="l00928"></a><a class="code" href="classoperations__research_1_1CtSpec.html">00928</a> <span class="keyword">class </span><a class="code" href="classoperations__research_1_1CtSpec.html">CtSpec</a> {
<a name="l00929"></a>00929  <span class="keyword">public</span>:
<a name="l00930"></a><a class="code" href="classoperations__research_1_1CtSpec.html#7b7f74ffd4874aae1247d697665a6d70">00930</a>   <a class="code" href="classoperations__research_1_1CtSpec.html">CtSpec</a>(<span class="keywordtype">int</span> index,
<a name="l00931"></a>00931          <span class="keyword">const</span> std::string&amp; <span class="keywordtype">id</span>,
<a name="l00932"></a>00932          <a class="code" href="classoperations__research_1_1AstArray.html" title="Array node">AstArray</a>* <span class="keyword">const</span> args,
<a name="l00933"></a>00933          <a class="code" href="classoperations__research_1_1AstNode.html" title="A node in a FlatZinc abstract syntax tree.">AstNode</a>* <span class="keyword">const</span> annotations)
<a name="l00934"></a>00934       : index_(index),
<a name="l00935"></a>00935         id_(id),
<a name="l00936"></a>00936         args_(args),
<a name="l00937"></a>00937         annotations_(annotations),
<a name="l00938"></a>00938         nullified_(false),
<a name="l00939"></a>00939         defined_arg_(NULL) {
<a name="l00940"></a>00940   }
<a name="l00941"></a>00941 
<a name="l00942"></a><a class="code" href="classoperations__research_1_1CtSpec.html#89feaf9598c6c14e9eb53d46128ac702">00942</a>   ~<a class="code" href="classoperations__research_1_1CtSpec.html">CtSpec</a>() {
<a name="l00943"></a>00943     <span class="keyword">delete</span> args_;
<a name="l00944"></a>00944     <span class="keyword">delete</span> annotations_;
<a name="l00945"></a>00945   }
<a name="l00946"></a>00946 
<a name="l00947"></a><a class="code" href="classoperations__research_1_1CtSpec.html#b5e09dc7bc835bddd6221a6ec24f88d0">00947</a>   <span class="keyword">const</span> std::string&amp; Id()<span class="keyword"> const </span>{
<a name="l00948"></a>00948     <span class="keywordflow">return</span> id_;
<a name="l00949"></a>00949   }
<a name="l00950"></a>00950 
<a name="l00951"></a><a class="code" href="classoperations__research_1_1CtSpec.html#8ae5a65d7ad886e8015cbd8713c16206">00951</a>   <span class="keywordtype">void</span> SetId(<span class="keyword">const</span> std::string&amp; <span class="keywordtype">id</span>) {
<a name="l00952"></a>00952     id_ = id;
<a name="l00953"></a>00953   }
<a name="l00954"></a>00954 
<a name="l00955"></a><a class="code" href="classoperations__research_1_1CtSpec.html#5c76c43846bbb56d7340ac9af68ea208">00955</a>   <span class="keywordtype">int</span> Index()<span class="keyword"> const </span>{
<a name="l00956"></a>00956     <span class="keywordflow">return</span> index_;
<a name="l00957"></a>00957   }
<a name="l00958"></a>00958 
<a name="l00959"></a><a class="code" href="classoperations__research_1_1CtSpec.html#3811d8604a3f7631a1bac0702a5cee40">00959</a>   <a class="code" href="classoperations__research_1_1AstNode.html" title="A node in a FlatZinc abstract syntax tree.">AstNode</a>* Arg(<span class="keywordtype">int</span> index)<span class="keyword"> const </span>{
<a name="l00960"></a>00960     <span class="keywordflow">return</span> args_-&gt;a[index];
<a name="l00961"></a>00961   }
<a name="l00962"></a>00962 
<a name="l00963"></a><a class="code" href="classoperations__research_1_1CtSpec.html#3ad86157fe694fbaa10039e6beb5cdf6">00963</a>   <a class="code" href="classoperations__research_1_1AstNode.html" title="A node in a FlatZinc abstract syntax tree.">AstNode</a>* LastArg()<span class="keyword"> const </span>{
<a name="l00964"></a>00964     <span class="keywordflow">return</span> args_-&gt;a.back();
<a name="l00965"></a>00965   }
<a name="l00966"></a>00966 
<a name="l00967"></a><a class="code" href="classoperations__research_1_1CtSpec.html#352aa4b22652c8d3096fa672b99915dd">00967</a>   <span class="keywordtype">int</span> NumArgs()<span class="keyword"> const </span>{
<a name="l00968"></a>00968     <span class="keywordflow">return</span> args_-&gt;a.size();
<a name="l00969"></a>00969   }
<a name="l00970"></a>00970 
<a name="l00971"></a><a class="code" href="classoperations__research_1_1CtSpec.html#3dcdd63358f1f37f086cafaec6ab88c1">00971</a>   <span class="keywordtype">void</span> RemoveArg(<span class="keywordtype">int</span> index) {
<a name="l00972"></a>00972     <span class="keyword">delete</span> args_-&gt;a[index];
<a name="l00973"></a>00973     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = index; i &lt; args_-&gt;a.size() - 1; i++) {
<a name="l00974"></a>00974       args_-&gt;a[i] = args_-&gt;a[i + 1];
<a name="l00975"></a>00975     }
<a name="l00976"></a>00976     args_-&gt;a.pop_back();
<a name="l00977"></a>00977   }
<a name="l00978"></a>00978 
<a name="l00979"></a><a class="code" href="classoperations__research_1_1CtSpec.html#8f3be6caae3c1cf54e36df060d819dbc">00979</a>   <span class="keywordtype">bool</span> IsDefined(<a class="code" href="classoperations__research_1_1AstNode.html" title="A node in a FlatZinc abstract syntax tree.">AstNode</a>* <span class="keyword">const</span> arg) {
<a name="l00980"></a>00980     <span class="keywordflow">if</span> (defined_arg_ != NULL) {
<a name="l00981"></a>00981       <span class="keywordflow">return</span> ((arg-&gt;<a class="code" href="classoperations__research_1_1AstNode.html#f2abd643d90430d6edd3c0c5ab4f4cee" title="Test if node is an integer variable node.">isIntVar</a>() &amp;&amp;
<a name="l00982"></a>00982                defined_arg_-&gt;isIntVar() &amp;&amp;
<a name="l00983"></a>00983                arg-&gt;<a class="code" href="classoperations__research_1_1AstNode.html#ab61375d4213db96ca10dc84b83fc3fd" title="Cast this node to an integer variable node.">getIntVar</a>() == defined_arg_-&gt;getIntVar()) ||
<a name="l00984"></a>00984               (arg-&gt;<a class="code" href="classoperations__research_1_1AstNode.html#be367494c459b4b2c6d738ac23feed78" title="Test if node is a Boolean variable node.">isBoolVar</a>() &amp;&amp;
<a name="l00985"></a>00985                defined_arg_-&gt;isBoolVar() &amp;&amp;
<a name="l00986"></a>00986                arg-&gt;<a class="code" href="classoperations__research_1_1AstNode.html#40d89893961b623de6cf8a40950a264d" title="Cast this node to a Boolean variable node.">getBoolVar</a>() == defined_arg_-&gt;getBoolVar()));
<a name="l00987"></a>00987     }
<a name="l00988"></a>00988     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00989"></a>00989   }
<a name="l00990"></a>00990 
<a name="l00991"></a><a class="code" href="classoperations__research_1_1CtSpec.html#c5bfafce3109f1e8d80e23905ed796c7">00991</a>   <a class="code" href="classoperations__research_1_1AstArray.html" title="Array node">AstArray</a>* Args()<span class="keyword"> const </span>{
<a name="l00992"></a>00992     <span class="keywordflow">return</span> args_;
<a name="l00993"></a>00993   }
<a name="l00994"></a>00994 
<a name="l00995"></a><a class="code" href="classoperations__research_1_1CtSpec.html#ce5609794bc80678cb4c2ce6d02add78">00995</a>   <span class="keywordtype">void</span> ReplaceArg(<span class="keywordtype">int</span> index, <a class="code" href="classoperations__research_1_1AstNode.html" title="A node in a FlatZinc abstract syntax tree.">AstNode</a>* <span class="keyword">const</span> node) {
<a name="l00996"></a>00996     <span class="keyword">delete</span> args_-&gt;a[index];
<a name="l00997"></a>00997     args_-&gt;a[index] = node;
<a name="l00998"></a>00998   }
<a name="l00999"></a>00999 
<a name="l01000"></a><a class="code" href="classoperations__research_1_1CtSpec.html#b3a612597c8bdd7ee4c60ad30d1e62f2">01000</a>   <a class="code" href="classoperations__research_1_1AstNode.html" title="A node in a FlatZinc abstract syntax tree.">AstNode</a>* annotations()<span class="keyword"> const </span>{
<a name="l01001"></a>01001     <span class="keywordflow">return</span> annotations_;
<a name="l01002"></a>01002   }
<a name="l01003"></a>01003 
<a name="l01004"></a><a class="code" href="classoperations__research_1_1CtSpec.html#b95873fb4254d0d97bc3c60c46a2fbae">01004</a>   <span class="keywordtype">string</span> <a class="code" href="classoperations__research_1_1AstNode.html#6e981e3dac0a576beecf101e5d89a806" title="Output string representation.">DebugString</a>()<span class="keyword"> const </span>{
<a name="l01005"></a>01005     <span class="keywordtype">string</span> output =
<a name="l01006"></a>01006         StringPrintf(<span class="stringliteral">"CtSpec(no = %d, id = %s, args = %s"</span>,
<a name="l01007"></a>01007                      index_,
<a name="l01008"></a>01008                      id_.c_str(),
<a name="l01009"></a>01009                      args_-&gt;DebugString().c_str());
<a name="l01010"></a>01010     <span class="keywordflow">if</span> (annotations_ != NULL) {
<a name="l01011"></a>01011       output += StringPrintf(<span class="stringliteral">", annotations = %s"</span>,
<a name="l01012"></a>01012                              annotations_-&gt;DebugString().c_str());
<a name="l01013"></a>01013     }
<a name="l01014"></a>01014     <span class="keywordflow">if</span> (defined_arg_ != NULL) {
<a name="l01015"></a>01015       output += StringPrintf(<span class="stringliteral">", target = %s"</span>,
<a name="l01016"></a>01016                              defined_arg_-&gt;DebugString().c_str());
<a name="l01017"></a>01017     }
<a name="l01018"></a>01018     <span class="keywordflow">if</span> (!requires_.empty()) {
<a name="l01019"></a>01019       output += <span class="stringliteral">", requires = ["</span>;
<a name="l01020"></a>01020       <span class="keywordflow">for</span> (ConstIter&lt;NodeSet&gt; it(requires_); !it.at_end(); ++it) {
<a name="l01021"></a>01021         output.append((*it)-&gt;DebugString());
<a name="l01022"></a>01022         output.append(<span class="stringliteral">" "</span>);
<a name="l01023"></a>01023       }
<a name="l01024"></a>01024       output += <span class="stringliteral">"]"</span>;
<a name="l01025"></a>01025     }
<a name="l01026"></a>01026     output += <span class="stringliteral">")"</span>;
<a name="l01027"></a>01027     <span class="keywordflow">return</span> output;
<a name="l01028"></a>01028   }
<a name="l01029"></a>01029 
<a name="l01030"></a><a class="code" href="classoperations__research_1_1CtSpec.html#9d039c42a4d8965175c98b553debac95">01030</a>   <span class="keywordtype">void</span> SetDefinedArg(<a class="code" href="classoperations__research_1_1AstNode.html" title="A node in a FlatZinc abstract syntax tree.">AstNode</a>* <span class="keyword">const</span> arg) {
<a name="l01031"></a>01031     defined_arg_ = arg;
<a name="l01032"></a>01032   }
<a name="l01033"></a>01033 
<a name="l01034"></a><a class="code" href="classoperations__research_1_1CtSpec.html#c27ec6b2284f6ef214202dab7e7106ff">01034</a>   <a class="code" href="classoperations__research_1_1AstNode.html" title="A node in a FlatZinc abstract syntax tree.">AstNode</a>* DefinedArg()<span class="keyword"> const </span>{
<a name="l01035"></a>01035     <span class="keywordflow">return</span> defined_arg_;
<a name="l01036"></a>01036   }
<a name="l01037"></a>01037 
<a name="l01038"></a><a class="code" href="classoperations__research_1_1CtSpec.html#17faf83c1cf810f7dce362346198a6b8">01038</a>   <span class="keyword">const</span> <a class="code" href="namespaceoperations__research.html#948e87fb465470163b0cbb98195b4fdd">NodeSet</a>&amp; require_map()<span class="keyword"> const </span>{
<a name="l01039"></a>01039     <span class="keywordflow">return</span> requires_;
<a name="l01040"></a>01040   }
<a name="l01041"></a>01041 
<a name="l01042"></a><a class="code" href="classoperations__research_1_1CtSpec.html#cc0c32f0cd311c1aa4db245f7f0ae89e">01042</a>   <a class="code" href="namespaceoperations__research.html#948e87fb465470163b0cbb98195b4fdd">NodeSet</a>* mutable_require_map() {
<a name="l01043"></a>01043     <span class="keywordflow">return</span> &amp;requires_;
<a name="l01044"></a>01044   }
<a name="l01045"></a>01045 
<a name="l01046"></a><a class="code" href="classoperations__research_1_1CtSpec.html#621e6cdadf3832f23ccd514d4e02009e">01046</a>   <span class="keywordtype">void</span> Unreify() {
<a name="l01047"></a>01047     id_.resize(id_.size() - 5);
<a name="l01048"></a>01048     <span class="keyword">delete</span> annotations_;
<a name="l01049"></a>01049     annotations_ = NULL;
<a name="l01050"></a>01050     <span class="keyword">delete</span> args_-&gt;a.back();
<a name="l01051"></a>01051     args_-&gt;a.pop_back();
<a name="l01052"></a>01052   }
<a name="l01053"></a>01053 
<a name="l01054"></a><a class="code" href="classoperations__research_1_1CtSpec.html#fb5ae30137b0d9cb174055133f9f1817">01054</a>   <span class="keywordtype">void</span> Nullify() {
<a name="l01055"></a>01055     nullified_ = <span class="keyword">true</span>;
<a name="l01056"></a>01056     id_.<a class="code" href="classoperations__research_1_1AstNode.html#c9c8d2ad291d81f39a4199edbb1ea91d" title="Append n to an array node.">append</a>(<span class="stringliteral">"_null"</span>);
<a name="l01057"></a>01057   }
<a name="l01058"></a>01058 
<a name="l01059"></a><a class="code" href="classoperations__research_1_1CtSpec.html#4b81df3faa511399839966edfe87bcc1">01059</a>   <span class="keywordtype">bool</span> Nullified()<span class="keyword"> const </span>{
<a name="l01060"></a>01060     <span class="keywordflow">return</span> nullified_;
<a name="l01061"></a>01061   }
<a name="l01062"></a>01062 
<a name="l01063"></a><a class="code" href="classoperations__research_1_1CtSpec.html#67cd6d9c5262aacae3ab336469127bee">01063</a>   <span class="keywordtype">void</span> AddAnnotation(<a class="code" href="classoperations__research_1_1AstNode.html" title="A node in a FlatZinc abstract syntax tree.">AstNode</a>* <span class="keyword">const</span> node) {
<a name="l01064"></a>01064     <span class="keywordflow">if</span> (annotations_ == NULL) {
<a name="l01065"></a>01065       annotations_ = <span class="keyword">new</span> <a class="code" href="classoperations__research_1_1AstArray.html" title="Array node">AstArray</a>(node);
<a name="l01066"></a>01066     } <span class="keywordflow">else</span> {
<a name="l01067"></a>01067       annotations_-&gt;getArray()-&gt;a.push_back(node);
<a name="l01068"></a>01068     }
<a name="l01069"></a>01069   }
<a name="l01070"></a>01070 
<a name="l01071"></a><a class="code" href="classoperations__research_1_1CtSpec.html#18ff18a2354d2a4830d7ce542e4e5e50">01071</a>   <span class="keywordtype">void</span> RemoveDefines() {
<a name="l01072"></a>01072     <span class="keywordflow">if</span> (annotations_ != NULL) {
<a name="l01073"></a>01073       <a class="code" href="classoperations__research_1_1AstArray.html" title="Array node">AstArray</a>* <span class="keyword">const</span> ann_array = annotations_-&gt;getArray();
<a name="l01074"></a>01074       <span class="keywordflow">if</span> (ann_array-&gt;<a class="code" href="classoperations__research_1_1AstArray.html#b0798e2b3779eb90c3fc7ed37379e815">a</a>[0]-&gt;isCall(<span class="stringliteral">"defines_var"</span>)) {
<a name="l01075"></a>01075         <span class="keyword">delete</span> ann_array-&gt;<a class="code" href="classoperations__research_1_1AstArray.html#b0798e2b3779eb90c3fc7ed37379e815">a</a>[0];
<a name="l01076"></a>01076         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; ann_array-&gt;<a class="code" href="classoperations__research_1_1AstArray.html#b0798e2b3779eb90c3fc7ed37379e815">a</a>.size() - 1; ++i) {
<a name="l01077"></a>01077           ann_array-&gt;<a class="code" href="classoperations__research_1_1AstArray.html#b0798e2b3779eb90c3fc7ed37379e815">a</a>[i] = ann_array-&gt;<a class="code" href="classoperations__research_1_1AstArray.html#b0798e2b3779eb90c3fc7ed37379e815">a</a>[i + 1];
<a name="l01078"></a>01078         }
<a name="l01079"></a>01079         ann_array-&gt;<a class="code" href="classoperations__research_1_1AstArray.html#b0798e2b3779eb90c3fc7ed37379e815">a</a>.pop_back();
<a name="l01080"></a>01080       }
<a name="l01081"></a>01081     }
<a name="l01082"></a>01082     defined_arg_ = NULL;
<a name="l01083"></a>01083   }
<a name="l01084"></a>01084 
<a name="l01085"></a><a class="code" href="classoperations__research_1_1CtSpec.html#c1b72296d8fb0304a17c432013c42fa7">01085</a>   <span class="keywordtype">void</span> RemoveDomain() {
<a name="l01086"></a>01086     <span class="keywordflow">if</span> (annotations_ != NULL) {
<a name="l01087"></a>01087       <span class="keywordflow">if</span> (<a class="code" href="classoperations__research_1_1AstArray.html" title="Array node">AstArray</a>* a = dynamic_cast&lt;AstArray*&gt;(annotations_)) {
<a name="l01088"></a>01088         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = a-&gt;a.size(); i--;) {
<a name="l01089"></a>01089           <span class="keywordflow">if</span> (<a class="code" href="classoperations__research_1_1AstAtom.html" title="Node representing an atom">AstAtom</a>* at = dynamic_cast&lt;AstAtom*&gt;(a-&gt;a[i])) {
<a name="l01090"></a>01090             <span class="keywordflow">if</span> (at-&gt;id == <span class="stringliteral">"domain"</span>) {
<a name="l01091"></a>01091               at-&gt;id = <span class="stringliteral">"null_annotation"</span>;
<a name="l01092"></a>01092             }
<a name="l01093"></a>01093           }
<a name="l01094"></a>01094         }
<a name="l01095"></a>01095       } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classoperations__research_1_1AstAtom.html" title="Node representing an atom">AstAtom</a>* a = dynamic_cast&lt;AstAtom*&gt;(annotations_)) {
<a name="l01096"></a>01096         <span class="keywordflow">if</span> (a-&gt;id == <span class="stringliteral">"domain"</span>) {
<a name="l01097"></a>01097           a-&gt;id = <span class="stringliteral">"null_annotation"</span>;
<a name="l01098"></a>01098         }
<a name="l01099"></a>01099       }
<a name="l01100"></a>01100     }
<a name="l01101"></a>01101   }
<a name="l01102"></a>01102 
<a name="l01103"></a>01103  <span class="keyword">private</span>:
<a name="l01104"></a>01104   <span class="keyword">const</span> <span class="keywordtype">int</span> index_;
<a name="l01105"></a>01105   std::string id_;
<a name="l01106"></a>01106   <a class="code" href="classoperations__research_1_1AstArray.html" title="Array node">AstArray</a>* <span class="keyword">const</span> args_;
<a name="l01107"></a>01107   <a class="code" href="classoperations__research_1_1AstNode.html" title="A node in a FlatZinc abstract syntax tree.">AstNode</a>* annotations_;
<a name="l01108"></a>01108   std::vector&lt;int&gt; uses_;
<a name="l01109"></a>01109   <a class="code" href="namespaceoperations__research.html#948e87fb465470163b0cbb98195b4fdd">NodeSet</a> requires_;
<a name="l01110"></a>01110   <span class="keywordtype">bool</span> nullified_;
<a name="l01111"></a>01111   <a class="code" href="classoperations__research_1_1AstNode.html" title="A node in a FlatZinc abstract syntax tree.">AstNode</a>* defined_arg_;
<a name="l01112"></a>01112 };
<a name="l01113"></a>01113 <span class="comment"></span>
<a name="l01114"></a>01114 <span class="comment">/// %State of the %FlatZinc parser</span>
<a name="l01115"></a><a class="code" href="classoperations__research_1_1ParserState.html">01115</a> <span class="comment"></span><span class="keyword">class </span><a class="code" href="classoperations__research_1_1ParserState.html" title="State of the FlatZinc parser">ParserState</a> {
<a name="l01116"></a>01116  <span class="keyword">public</span>:
<a name="l01117"></a><a class="code" href="classoperations__research_1_1ParserState.html#d8d1e62488b7c77b34450634fc9c4a1b">01117</a>   <a class="code" href="classoperations__research_1_1ParserState.html" title="State of the FlatZinc parser">ParserState</a>(<span class="keyword">const</span> std::string&amp; b,
<a name="l01118"></a>01118               <a class="code" href="classoperations__research_1_1FlatZincModel.html" title="A space that can be initialized with a FlatZinc model.">operations_research::FlatZincModel</a>* <span class="keyword">const</span> model0)
<a name="l01119"></a>01119       : buf(b.c_str()),
<a name="l01120"></a>01120         pos(0),
<a name="l01121"></a>01121         length(b.size()),
<a name="l01122"></a>01122         model_(model0),
<a name="l01123"></a>01123         hadError(false) {}
<a name="l01124"></a>01124 
<a name="l01125"></a><a class="code" href="classoperations__research_1_1ParserState.html#6860e9aa093fb1b1d10ad815c0627429">01125</a>   <a class="code" href="classoperations__research_1_1ParserState.html" title="State of the FlatZinc parser">ParserState</a>(<span class="keywordtype">char</span>* <span class="keyword">const</span> buf0,
<a name="l01126"></a>01126               <span class="keywordtype">int</span> length0,
<a name="l01127"></a>01127               <a class="code" href="classoperations__research_1_1FlatZincModel.html" title="A space that can be initialized with a FlatZinc model.">operations_research::FlatZincModel</a>* <span class="keyword">const</span> model0)
<a name="l01128"></a>01128       : buf(buf0), pos(0), length(length0), model_(model0), hadError(false) {}
<a name="l01129"></a>01129 
<a name="l01130"></a>01130   ~<a class="code" href="classoperations__research_1_1ParserState.html" title="State of the FlatZinc parser">ParserState</a>();
<a name="l01131"></a>01131 
<a name="l01132"></a><a class="code" href="classoperations__research_1_1ParserState.html#934483fb2026744b2d9b34b2c9373dce">01132</a>   <span class="keywordtype">void</span>* yyscanner;
<a name="l01133"></a><a class="code" href="classoperations__research_1_1ParserState.html#152a4a0410734c47b6b4c4d4c39f0c31">01133</a>   <span class="keyword">const</span> <span class="keywordtype">char</span>* buf;
<a name="l01134"></a><a class="code" href="classoperations__research_1_1ParserState.html#41e5a05891685c95b74b9418e3de41af">01134</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pos, length;
<a name="l01135"></a>01135 
<a name="l01136"></a><a class="code" href="classoperations__research_1_1ParserState.html#513878dafb233bdf94fba6f0d718b591">01136</a>   <a class="code" href="classoperations__research_1_1SymbolTable.html" title="Symbol table mapping identifiers (strings) to values.">SymbolTable&lt;int64&gt;</a> int_var_map_;
<a name="l01137"></a><a class="code" href="classoperations__research_1_1ParserState.html#f99b46e5e7a985e48e28cb49622f3e87">01137</a>   <a class="code" href="classoperations__research_1_1SymbolTable.html" title="Symbol table mapping identifiers (strings) to values.">SymbolTable&lt;int64&gt;</a> bool_var_map_;
<a name="l01138"></a><a class="code" href="classoperations__research_1_1ParserState.html#6f7b78f93bff3e1303a969c30e1f6cc8">01138</a>   <a class="code" href="classoperations__research_1_1SymbolTable.html" title="Symbol table mapping identifiers (strings) to values.">SymbolTable&lt;int64&gt;</a> float_var_map_;
<a name="l01139"></a><a class="code" href="classoperations__research_1_1ParserState.html#f6a6d89234b38cbe489df0807fba6476">01139</a>   <a class="code" href="classoperations__research_1_1SymbolTable.html" title="Symbol table mapping identifiers (strings) to values.">SymbolTable&lt;int64&gt;</a> set_var_map_;
<a name="l01140"></a><a class="code" href="classoperations__research_1_1ParserState.html#d110c56d1796b2236992bd2e4483ca42">01140</a>   <a class="code" href="classoperations__research_1_1SymbolTable.html" title="Symbol table mapping identifiers (strings) to values.">SymbolTable&lt;std::vector&lt;int64&gt;</a> &gt; int_var_array_map_;
<a name="l01141"></a><a class="code" href="classoperations__research_1_1ParserState.html#924d3e3e4e48c45eea6799d67deebe13">01141</a>   <a class="code" href="classoperations__research_1_1SymbolTable.html" title="Symbol table mapping identifiers (strings) to values.">SymbolTable&lt;std::vector&lt;int64&gt;</a> &gt; bool_var_array_map_;
<a name="l01142"></a><a class="code" href="classoperations__research_1_1ParserState.html#027826c98d2d906bc71e44ae4485cc4b">01142</a>   <a class="code" href="classoperations__research_1_1SymbolTable.html" title="Symbol table mapping identifiers (strings) to values.">SymbolTable&lt;std::vector&lt;int64&gt;</a> &gt; float_var_array_map_;
<a name="l01143"></a><a class="code" href="classoperations__research_1_1ParserState.html#23373817a512484f18782a7be8748944">01143</a>   <a class="code" href="classoperations__research_1_1SymbolTable.html" title="Symbol table mapping identifiers (strings) to values.">SymbolTable&lt;std::vector&lt;int64&gt;</a> &gt; set_var_array_map_;
<a name="l01144"></a><a class="code" href="classoperations__research_1_1ParserState.html#49f6a7d10b7f102c4067f2b5f34cae87">01144</a>   <a class="code" href="classoperations__research_1_1SymbolTable.html" title="Symbol table mapping identifiers (strings) to values.">SymbolTable&lt;std::vector&lt;int64&gt;</a> &gt; int_value_array_map_;
<a name="l01145"></a><a class="code" href="classoperations__research_1_1ParserState.html#4ee7264834fb128c13b1b3d95472d225">01145</a>   <a class="code" href="classoperations__research_1_1SymbolTable.html" title="Symbol table mapping identifiers (strings) to values.">SymbolTable&lt;std::vector&lt;int64&gt;</a> &gt; bool_value_array_map_;
<a name="l01146"></a><a class="code" href="classoperations__research_1_1ParserState.html#abe312e8c01dcb9f832e8fd0f67eca4c">01146</a>   <a class="code" href="classoperations__research_1_1SymbolTable.html" title="Symbol table mapping identifiers (strings) to values.">SymbolTable&lt;int64&gt;</a> int_map_;
<a name="l01147"></a><a class="code" href="classoperations__research_1_1ParserState.html#b03a4a415a87381d5d6b4dfed0997713">01147</a>   <a class="code" href="classoperations__research_1_1SymbolTable.html" title="Symbol table mapping identifiers (strings) to values.">SymbolTable&lt;bool&gt;</a> bool_map_;
<a name="l01148"></a><a class="code" href="classoperations__research_1_1ParserState.html#9445f05e9126d19c738e37efe8cb2fb5">01148</a>   <a class="code" href="classoperations__research_1_1SymbolTable.html" title="Symbol table mapping identifiers (strings) to values.">SymbolTable&lt;AstSetLit&gt;</a> set_map_;
<a name="l01149"></a><a class="code" href="classoperations__research_1_1ParserState.html#0a579ea6d2de35c7d2a24bc852f176a8">01149</a>   <a class="code" href="classoperations__research_1_1SymbolTable.html" title="Symbol table mapping identifiers (strings) to values.">SymbolTable&lt;std::vector&lt;AstSetLit&gt;</a> &gt; set_value_array_map_;
<a name="l01150"></a>01150 
<a name="l01151"></a><a class="code" href="classoperations__research_1_1ParserState.html#8452056d6e92360938cb4cad20b946d8">01151</a>   std::vector&lt;IntVarSpec*&gt; int_variables_;
<a name="l01152"></a><a class="code" href="classoperations__research_1_1ParserState.html#c4e63a64dcc1b5ee617c82fcf1f4c733">01152</a>   std::vector&lt;BoolVarSpec*&gt; bool_variables_;
<a name="l01153"></a><a class="code" href="classoperations__research_1_1ParserState.html#b25b9ef5be1cf155545ea830fd7f2387">01153</a>   std::vector&lt;SetVarSpec*&gt; set_variables_;
<a name="l01154"></a>01154 
<a name="l01155"></a><a class="code" href="classoperations__research_1_1ParserState.html#627c907b2095e594d29c34ee12ec4492">01155</a>   std::vector&lt;std::pair&lt;AstNode*, AstSetLit*&gt; &gt; int_domain_constraints_;
<a name="l01156"></a><a class="code" href="classoperations__research_1_1ParserState.html#3dca683efc12319c075376b81712d5f2">01156</a>   std::vector&lt;std::pair&lt;int, AstSetLit*&gt; &gt; set_domain_constraints_;
<a name="l01157"></a><a class="code" href="classoperations__research_1_1ParserState.html#022dd15d5e64741c812aca03cda8a82f">01157</a>   std::vector&lt;CtSpec*&gt; constraints_;
<a name="l01158"></a>01158 
<a name="l01159"></a><a class="code" href="classoperations__research_1_1ParserState.html#162dbbfaa104af4a338457f84fcaeb84">01159</a>   <span class="keywordtype">bool</span> hadError;
<a name="l01160"></a>01160 
<a name="l01161"></a>01161   <span class="keywordtype">int</span> FillBuffer(<span class="keywordtype">char</span>* lexBuf, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> lexBufSize);
<a name="l01162"></a>01162   <span class="keywordtype">void</span> output(std::string x, <a class="code" href="classoperations__research_1_1AstNode.html" title="A node in a FlatZinc abstract syntax tree.">AstNode</a>* n);
<a name="l01163"></a>01163   <a class="code" href="classoperations__research_1_1AstArray.html" title="Array node">AstArray</a>* Output(<span class="keywordtype">void</span>);
<a name="l01164"></a>01164   <span class="keywordtype">void</span> AnalyseAndCreateModel();
<a name="l01165"></a>01165   <a class="code" href="classoperations__research_1_1AstNode.html" title="A node in a FlatZinc abstract syntax tree.">AstNode</a>* ArrayElement(<span class="keywordtype">string</span> <span class="keywordtype">id</span>, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> offset);
<a name="l01166"></a>01166   <a class="code" href="classoperations__research_1_1AstNode.html" title="A node in a FlatZinc abstract syntax tree.">AstNode</a>* VarRefArg(<span class="keywordtype">string</span> <span class="keywordtype">id</span>, <span class="keywordtype">bool</span> annotation);
<a name="l01167"></a>01167   <span class="keywordtype">void</span> AddIntVarDomainConstraint(<span class="keywordtype">int</span> var_id, <a class="code" href="classoperations__research_1_1AstSetLit.html" title="Set literal node">AstSetLit</a>* <span class="keyword">const</span> dom);
<a name="l01168"></a>01168   <span class="keywordtype">void</span> AddBoolVarDomainConstraint(<span class="keywordtype">int</span> var_id, <a class="code" href="classoperations__research_1_1AstSetLit.html" title="Set literal node">AstSetLit</a>* <span class="keyword">const</span> dom);
<a name="l01169"></a>01169   <span class="keywordtype">void</span> AddSetVarDomainConstraint(<span class="keywordtype">int</span> var_id, <a class="code" href="classoperations__research_1_1AstSetLit.html" title="Set literal node">AstSetLit</a>* <span class="keyword">const</span> dom);
<a name="l01170"></a>01170   <span class="keywordtype">void</span> AddConstraint(<span class="keyword">const</span> std::string&amp; <span class="keywordtype">id</span>,
<a name="l01171"></a>01171                      <a class="code" href="classoperations__research_1_1AstArray.html" title="Array node">AstArray</a>* <span class="keyword">const</span> args,
<a name="l01172"></a>01172                      <a class="code" href="classoperations__research_1_1AstNode.html" title="A node in a FlatZinc abstract syntax tree.">AstNode</a>* <span class="keyword">const</span> annotations);
<a name="l01173"></a>01173   <span class="keywordtype">void</span> InitModel();
<a name="l01174"></a>01174   <span class="keywordtype">void</span> FillOutput(<a class="code" href="classoperations__research_1_1FlatZincModel.html" title="A space that can be initialized with a FlatZinc model.">operations_research::FlatZincModel</a>&amp; m);
<a name="l01175"></a>01175   <span class="keywordtype">void</span> Presolve();
<a name="l01176"></a>01176   <span class="keywordtype">bool</span> IsBound(<a class="code" href="classoperations__research_1_1AstNode.html" title="A node in a FlatZinc abstract syntax tree.">AstNode</a>* <span class="keyword">const</span> node) <span class="keyword">const</span>;
<a name="l01177"></a>01177   <span class="keywordtype">int</span> GetBound(<a class="code" href="classoperations__research_1_1AstNode.html" title="A node in a FlatZinc abstract syntax tree.">AstNode</a>* <span class="keyword">const</span> node) <span class="keyword">const</span>;
<a name="l01178"></a>01178   <span class="keywordtype">bool</span> IsAllDifferent(<a class="code" href="classoperations__research_1_1AstNode.html" title="A node in a FlatZinc abstract syntax tree.">AstNode</a>* <span class="keyword">const</span> node) <span class="keyword">const</span>;
<a name="l01179"></a>01179   <span class="keywordtype">bool</span> MergeIntDomain(<a class="code" href="classoperations__research_1_1IntVarSpec.html" title="Specification for integer variables.">IntVarSpec</a>* <span class="keyword">const</span> source, <a class="code" href="classoperations__research_1_1IntVarSpec.html" title="Specification for integer variables.">IntVarSpec</a>* <span class="keyword">const</span> dest);
<a name="l01180"></a>01180 
<a name="l01181"></a><a class="code" href="classoperations__research_1_1ParserState.html#df8c5b563f8db96cfd8386865078550f">01181</a>   <a class="code" href="classoperations__research_1_1FlatZincModel.html" title="A space that can be initialized with a FlatZinc model.">FlatZincModel</a>* model()<span class="keyword"> const </span>{
<a name="l01182"></a>01182     <span class="keywordflow">return</span> model_;
<a name="l01183"></a>01183   }
<a name="l01184"></a>01184 
<a name="l01185"></a><a class="code" href="classoperations__research_1_1ParserState.html#7b85dde1ba197e34e541038da4c1c06e">01185</a>   <a class="code" href="classoperations__research_1_1AstNode.html" title="A node in a FlatZinc abstract syntax tree.">AstNode</a>* Copy(<a class="code" href="classoperations__research_1_1AstNode.html" title="A node in a FlatZinc abstract syntax tree.">AstNode</a>* <span class="keyword">const</span> node)<span class="keyword"> const </span>{
<a name="l01186"></a>01186     <span class="keywordflow">if</span> (node-&gt;<a class="code" href="classoperations__research_1_1AstNode.html#f2abd643d90430d6edd3c0c5ab4f4cee" title="Test if node is an integer variable node.">isIntVar</a>()) {
<a name="l01187"></a>01187       <span class="keywordflow">return</span> int_args_[node-&gt;<a class="code" href="classoperations__research_1_1AstNode.html#ab61375d4213db96ca10dc84b83fc3fd" title="Cast this node to an integer variable node.">getIntVar</a>()];
<a name="l01188"></a>01188     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (node-&gt;<a class="code" href="classoperations__research_1_1AstNode.html#be367494c459b4b2c6d738ac23feed78" title="Test if node is a Boolean variable node.">isBoolVar</a>()) {
<a name="l01189"></a>01189       <span class="keywordflow">return</span> bool_args_[node-&gt;<a class="code" href="classoperations__research_1_1AstNode.html#40d89893961b623de6cf8a40950a264d" title="Cast this node to a Boolean variable node.">getBoolVar</a>()];
<a name="l01190"></a>01190     }
<a name="l01191"></a>01191     <span class="keywordflow">return</span> NULL;
<a name="l01192"></a>01192   }
<a name="l01193"></a>01193 
<a name="l01194"></a><a class="code" href="classoperations__research_1_1ParserState.html#7e35c8b6cd4483e4f1aa2de03addf1fe">01194</a>   <a class="code" href="classoperations__research_1_1AstNode.html" title="A node in a FlatZinc abstract syntax tree.">AstNode</a>* IntCopy(<span class="keywordtype">int</span> index)<span class="keyword"> const </span>{
<a name="l01195"></a>01195     CHECK_NOTNULL(int_args_[index]);
<a name="l01196"></a>01196     <span class="keywordflow">return</span> int_args_[index];
<a name="l01197"></a>01197   }
<a name="l01198"></a>01198 
<a name="l01199"></a><a class="code" href="classoperations__research_1_1ParserState.html#5f36f047226fd2fa4906a324dea4f0e0">01199</a>   <a class="code" href="classoperations__research_1_1AstNode.html" title="A node in a FlatZinc abstract syntax tree.">AstNode</a>* BoolCopy(<span class="keywordtype">int</span> index)<span class="keyword"> const </span>{
<a name="l01200"></a>01200     CHECK_NOTNULL(bool_args_[index]);
<a name="l01201"></a>01201     <span class="keywordflow">return</span> bool_args_[index];
<a name="l01202"></a>01202   }
<a name="l01203"></a>01203 
<a name="l01204"></a>01204  <span class="keyword">private</span>:
<a name="l01205"></a>01205   <span class="keywordtype">void</span> MarkAllVariables(<a class="code" href="classoperations__research_1_1AstNode.html" title="A node in a FlatZinc abstract syntax tree.">AstNode</a>* <span class="keyword">const</span> node, <a class="code" href="namespaceoperations__research.html#948e87fb465470163b0cbb98195b4fdd">NodeSet</a>* <span class="keyword">const</span> computed);
<a name="l01206"></a>01206   <span class="keywordtype">void</span> MarkComputedVariables(<a class="code" href="classoperations__research_1_1CtSpec.html">CtSpec</a>* <span class="keyword">const</span> spec, <a class="code" href="namespaceoperations__research.html#948e87fb465470163b0cbb98195b4fdd">NodeSet</a>* <span class="keyword">const</span> computed);
<a name="l01207"></a>01207   <span class="keywordtype">void</span> SortConstraints(<a class="code" href="namespaceoperations__research.html#948e87fb465470163b0cbb98195b4fdd">NodeSet</a>* <span class="keyword">const</span> candidates,
<a name="l01208"></a>01208                        <a class="code" href="namespaceoperations__research.html#948e87fb465470163b0cbb98195b4fdd">NodeSet</a>* <span class="keyword">const</span> computed_variables);
<a name="l01209"></a>01209   <span class="keywordtype">void</span> BuildModel(<span class="keyword">const</span> <a class="code" href="namespaceoperations__research.html#948e87fb465470163b0cbb98195b4fdd">NodeSet</a>&amp; candidates,
<a name="l01210"></a>01210                   <span class="keyword">const</span> <a class="code" href="namespaceoperations__research.html#948e87fb465470163b0cbb98195b4fdd">NodeSet</a>&amp; computed_variables);
<a name="l01211"></a>01211   <span class="keywordtype">bool</span> PresolveOneConstraint(<a class="code" href="classoperations__research_1_1CtSpec.html">CtSpec</a>* <span class="keyword">const</span> spec);
<a name="l01212"></a>01212   <span class="keywordtype">bool</span> DiscoverAliases(<a class="code" href="classoperations__research_1_1CtSpec.html">CtSpec</a>* <span class="keyword">const</span> spec);
<a name="l01213"></a>01213   <span class="keywordtype">void</span> ReplaceAliases(<a class="code" href="classoperations__research_1_1CtSpec.html">CtSpec</a>* <span class="keyword">const</span> spec);
<a name="l01214"></a>01214   <a class="code" href="classoperations__research_1_1AstNode.html" title="A node in a FlatZinc abstract syntax tree.">AstNode</a>* FindTarget(<a class="code" href="classoperations__research_1_1AstNode.html" title="A node in a FlatZinc abstract syntax tree.">AstNode</a>* <span class="keyword">const</span> annotations) <span class="keyword">const</span>;
<a name="l01215"></a>01215   <span class="keywordtype">void</span> CollectRequired(<a class="code" href="classoperations__research_1_1AstArray.html" title="Array node">AstArray</a>* <span class="keyword">const</span> args,
<a name="l01216"></a>01216                        <span class="keyword">const</span> <a class="code" href="namespaceoperations__research.html#948e87fb465470163b0cbb98195b4fdd">NodeSet</a>&amp; candidates,
<a name="l01217"></a>01217                        <a class="code" href="namespaceoperations__research.html#948e87fb465470163b0cbb98195b4fdd">NodeSet</a>* <span class="keyword">const</span> require) <span class="keyword">const</span>;
<a name="l01218"></a>01218   <span class="keywordtype">void</span> ComputeDependencies(<span class="keyword">const</span> <a class="code" href="namespaceoperations__research.html#948e87fb465470163b0cbb98195b4fdd">NodeSet</a>&amp; candidates, <a class="code" href="classoperations__research_1_1CtSpec.html">CtSpec</a>* <span class="keyword">const</span> spec) <span class="keyword">const</span>;
<a name="l01219"></a>01219   <span class="keywordtype">void</span> ComputeViableTarget(<a class="code" href="classoperations__research_1_1CtSpec.html">CtSpec</a>* <span class="keyword">const</span> spec, <a class="code" href="namespaceoperations__research.html#948e87fb465470163b0cbb98195b4fdd">NodeSet</a>* <span class="keyword">const</span> candidates) <span class="keyword">const</span>;
<a name="l01220"></a>01220   <span class="keywordtype">void</span> Sanitize(<a class="code" href="classoperations__research_1_1CtSpec.html">CtSpec</a>* <span class="keyword">const</span> spec);
<a name="l01221"></a>01221   <span class="keywordtype">void</span> Strongify(<span class="keywordtype">int</span> constraint_index);
<a name="l01222"></a>01222   <span class="keywordtype">bool</span> IsAlias(<a class="code" href="classoperations__research_1_1AstNode.html" title="A node in a FlatZinc abstract syntax tree.">AstNode</a>* <span class="keyword">const</span> node) <span class="keyword">const</span>;
<a name="l01223"></a>01223   <span class="keywordtype">bool</span> IsIntroduced(<a class="code" href="classoperations__research_1_1AstNode.html" title="A node in a FlatZinc abstract syntax tree.">AstNode</a>* <span class="keyword">const</span> node) <span class="keyword">const</span>;
<a name="l01224"></a>01224   <a class="code" href="classoperations__research_1_1IntVarSpec.html" title="Specification for integer variables.">IntVarSpec</a>* IntSpec(<a class="code" href="classoperations__research_1_1AstNode.html" title="A node in a FlatZinc abstract syntax tree.">AstNode</a>* <span class="keyword">const</span> node) <span class="keyword">const</span>;
<a name="l01225"></a>01225 
<a name="l01226"></a>01226   <a class="code" href="classoperations__research_1_1FlatZincModel.html" title="A space that can be initialized with a FlatZinc model.">operations_research::FlatZincModel</a>* model_;
<a name="l01227"></a>01227   std::vector&lt;std::pair&lt;std::string,AstNode*&gt; &gt; output_;
<a name="l01228"></a>01228   <a class="code" href="namespaceoperations__research.html#948e87fb465470163b0cbb98195b4fdd">NodeSet</a> orphans_;
<a name="l01229"></a>01229   <a class="code" href="namespaceoperations__research.html#948e87fb465470163b0cbb98195b4fdd">NodeSet</a> targets_;
<a name="l01230"></a>01230   <a class="code" href="namespaceoperations__research.html#0ae2613f919b7bb9acbccbef94fd3847">ConstraintSet</a> stored_constraints_;
<a name="l01231"></a>01231   std::vector&lt;std::vector&lt;int&gt; &gt; all_differents_;
<a name="l01232"></a>01232   hash_map&lt;string, std::vector&lt;int&gt; &gt; constraints_per_id_;
<a name="l01233"></a>01233   std::vector&lt;std::vector&lt;int&gt; &gt; constraints_per_int_variables_;
<a name="l01234"></a>01234   std::vector&lt;std::vector&lt;int&gt; &gt; constraints_per_bool_variables_;
<a name="l01235"></a>01235   hash_map&lt;int, int&gt; abs_map_;
<a name="l01236"></a>01236   hash_map&lt;int, std::pair&lt;int, int&gt; &gt; differences_;
<a name="l01237"></a>01237   std::vector&lt;AstNode*&gt; int_args_;
<a name="l01238"></a>01238   std::vector&lt;AstNode*&gt; bool_args_;
<a name="l01239"></a>01239   hash_map&lt;int, int&gt; int_aliases_;
<a name="l01240"></a>01240   hash_map&lt;int, hash_set&lt;int&gt; &gt; reverse_int_aliases_;
<a name="l01241"></a>01241 };
<a name="l01242"></a>01242 
<a name="l01243"></a>01243 AstNode* <a class="code" href="namespaceoperations__research.html#6bb31dcacb69917badcd5f1098c34597">ArrayOutput</a>(AstCall* ann);
<a name="l01244"></a>01244 }  <span class="comment">// namespace operations_research</span>
<a name="l01245"></a>01245 
<a name="l01246"></a>01246 <span class="preprocessor">#endif</span>
</pre></div></div>

  <!-- Start of footer. -->
  <table width=100% cellpadding=0 cellspacing=0 border=0>
    <tr valign=top>
      <td colspan=2 height=10></td>
    </tr>
    <tr valign=top>
      <td colspan=2 bgcolor=#359621 height=3></td>
    </tr>
  </table>

  <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
  <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
  <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
  <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
  <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
  <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
  <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
  <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
  <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
  <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
  <br /><br />

  
  </body>
</html>
